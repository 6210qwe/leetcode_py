# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 192
标题: Word Frequency
难度: medium
链接: https://leetcode.cn/problems/word-frequency/
题目类型: Shell
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
192. 统计词频 - 写一个 bash 脚本以统计一个文本文件 words.txt 中每个单词出现的频率。 为了简单起见，你可以假设： * words.txt只包括小写字母和 ' ' 。 * 每个单词只由小写字母组成。 * 单词间由一个或多个空格字符分隔。 示例: 假设 words.txt 内容如下： the day is sunny the the the sunny is is 你的脚本应当输出（以词频降序排列）： the 4 is 3 sunny 2 day 1 说明: * 不要担心词频相同的单词的排序问题，每个单词出现的频率都是唯一的。 * 你可以使用一行 Unix pipes [http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-4.html] 实现吗？
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: Bash脚本，使用tr、sort、uniq等命令统计词频

算法步骤:
1. 使用tr将空格替换为换行符
2. 使用sort排序
3. 使用uniq -c统计词频
4. 使用sort -rn按词频降序排序
5. 使用awk格式化输出

关键点:
- 使用Unix管道命令组合
- Shell脚本
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(nlogn) - 排序的时间复杂度
空间复杂度: O(n) - 存储单词
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def word_frequency():
    """
    函数式接口 - 统计词频（Bash脚本）
    
    实现思路:
    使用tr、sort、uniq等命令统计词频。
    
    Returns:
        Bash脚本字符串
        
    Example:
        >>> script = word_frequency()
        >>> # 执行bash脚本
    """
    script = """
    cat words.txt | tr -s ' ' '\\n' | sort | uniq -c | sort -rn | awk '{print $2, $1}'
    """
    return script.strip()


# 自动生成Solution类（无需手动编写）
Solution = create_solution(word_frequency)
