# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 805
标题: Escape The Ghosts
难度: medium
链接: https://leetcode.cn/problems/escape-the-ghosts/
题目类型: 数组、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
789. 逃脱阻碍者 - 你在进行一个简化版的吃豆人游戏。你从 [0, 0] 点开始出发，你的目的地是 target = [xtarget, ytarget] 。地图上有一些阻碍者，以数组 ghosts 给出，第 i 个阻碍者从 ghosts[i] = [xi, yi] 出发。所有输入均为 整数坐标 。 每一回合，你和阻碍者们可以同时向东，西，南，北四个方向移动，每次可以移动到距离原位置 1 个单位 的新位置。当然，也可以选择 不动 。所有动作 同时 发生。 如果你可以在任何阻碍者抓住你 之前 到达目的地（阻碍者可以采取任意行动方式），则被视为逃脱成功。如果你和阻碍者 同时 到达了一个位置（包括目的地） 都不算 是逃脱成功。 如果不管阻碍者怎么移动都可以成功逃脱时，输出 true ；否则，输出 false 。 示例 1： 输入：ghosts = [[1,0],[0,3]], target = [0,1] 输出：true 解释：你可以直接一步到达目的地 (0,1) ，在 (1, 0) 或者 (0, 3) 位置的阻碍者都不可能抓住你。 示例 2： 输入：ghosts = [[1,0]], target = [2,0] 输出：false 解释：你需要走到位于 (2, 0) 的目的地，但是在 (1, 0) 的阻碍者位于你和目的地之间。 示例 3： 输入：ghosts = [[2,0]], target = [1,0] 输出：false 解释：阻碍者可以和你同时达到目的地。 提示： * 1 <= ghosts.length <= 100 * ghosts[i].length == 2 * -104 <= xi, yi <= 104 * 同一位置可能有 多个阻碍者 。 * target.length == 2 * -104 <= xtarget, ytarget <= 104
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过计算曼哈顿距离来判断你是否能在阻碍者之前到达目标点。如果任何一个阻碍者能比你更快或同时到达目标点，则你无法逃脱。

算法步骤:
1. 计算你从起点 [0, 0] 到目标点 target 的曼哈顿距离。
2. 遍历每个阻碍者，计算它们从各自起点到目标点的曼哈顿距离。
3. 如果有任何一个阻碍者的曼哈顿距离小于或等于你的曼哈顿距离，则返回 False，表示你无法逃脱。
4. 如果所有阻碍者的曼哈顿距离都大于你的曼哈顿距离，则返回 True，表示你能逃脱。

关键点:
- 曼哈顿距离公式: |x1 - x2| + |y1 - y2|
- 只要有一个阻碍者能比你更快或同时到达目标点，你就无法逃脱。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是阻碍者的数量。我们需要遍历每个阻碍者来计算曼哈顿距离。
空间复杂度: O(1)，我们只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def escape_ghosts(ghosts: List[List[int]], target: List[int]) -> bool:
    """
    函数式接口 - 判断你是否能在阻碍者之前到达目标点
    """
    # 计算你从起点 [0, 0] 到目标点 target 的曼哈顿距离
    my_distance = abs(target[0]) + abs(target[1])
    
    # 遍历每个阻碍者，计算它们从各自起点到目标点的曼哈顿距离
    for ghost in ghosts:
        ghost_distance = abs(ghost[0] - target[0]) + abs(ghost[1] - target[1])
        # 如果有任何一个阻碍者的曼哈顿距离小于或等于你的曼哈顿距离，则返回 False
        if ghost_distance <= my_distance:
            return False
    
    # 如果所有阻碍者的曼哈顿距离都大于你的曼哈顿距离，则返回 True
    return True


Solution = create_solution(escape_ghosts)