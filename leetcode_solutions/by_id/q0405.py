# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 405
标题: Convert a Number to Hexadecimal
难度: easy
链接: https://leetcode.cn/problems/convert-a-number-to-hexadecimal/
题目类型: 位运算、数学、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
405. 数字转换为十六进制数 - 给定一个整数，编写一个算法将这个数转换为十六进制数。对于负整数，我们通常使用 补码运算 [https://baike.baidu.com/item/%E8%A1%A5%E7%A0%81/6854613?fr=aladdin] 方法。 答案字符串中的所有字母都应该是小写字符，并且除了 0 本身之外，答案中不应该有任何前置零。 注意: 不允许使用任何由库提供的将数字直接转换或格式化为十六进制的方法来解决这个问题。 示例 1： 输入：num = 26 输出："1a" 示例 2： 输入：num = -1 输出："ffffffff" 提示： * -231 <= num <= 231 - 1
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 将数字转换为32位无符号整数，然后每4位转换为一个十六进制字符

算法步骤:
1. 将负数转换为32位无符号整数（使用位运算）
2. 每次取低4位，转换为十六进制字符
3. 右移4位，重复直到数字为0
4. 反转字符串得到结果

关键点:
- 处理负数使用位运算转换为无符号整数
- 时间复杂度O(1)，空间复杂度O(1)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(1) - 固定8次循环（32位/4位）
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def convert_a_number_to_hexadecimal(num: int) -> str:
    """
    函数式接口 - 数字转换为十六进制数
    
    实现思路:
    将数字转换为32位无符号整数，然后每4位转换为一个十六进制字符。
    
    Args:
        num: 整数（可能为负数）
        
    Returns:
        十六进制字符串
        
    Example:
        >>> convert_a_number_to_hexadecimal(26)
        '1a'
    """
    if num == 0:
        return '0'
    
    # 将负数转换为32位无符号整数
    num = num & 0xFFFFFFFF
    
    hex_chars = '0123456789abcdef'
    result = []
    
    while num > 0:
        result.append(hex_chars[num & 0xF])
        num >>= 4
    
    return ''.join(reversed(result))


# 自动生成Solution类（无需手动编写）
Solution = create_solution(convert_a_number_to_hexadecimal)
