# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 625
标题: Minimum Factorization
难度: medium
链接: https://leetcode.cn/problems/minimum-factorization/
题目类型: 贪心、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
给定一个正整数 a，找到最小的正整数 b 使得 b 的所有数位相乘等于 a。如果不存在这样的 b，则返回 0。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 从 9 到 2 依次尝试将 a 分解为这些因子的乘积，以确保得到的 b 尽可能小。

算法步骤:
1. 从 9 到 2 依次尝试将 a 分解为这些因子的乘积。
2. 如果 a 可以被当前因子整除，则将该因子加入结果列表。
3. 最后将结果列表中的因子按从小到大的顺序拼接成一个整数。
4. 如果 a 不能被分解为这些因子的乘积，则返回 0。

关键点:
- 从大到小尝试因子，以确保得到的 b 尽可能小。
- 结果列表中的因子按从小到大的顺序拼接成一个整数。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(log a) - 因为每次循环中 a 都会被除以一个因子。
空间复杂度: O(log a) - 结果列表的长度最多为 log a。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def smallestFactorization(a: int) -> int:
    """
    函数式接口 - 找到最小的正整数 b 使得 b 的所有数位相乘等于 a。如果不存在这样的 b，则返回 0。
    """
    if a == 1:
        return 1
    
    factors = []
    for factor in range(9, 1, -1):
        while a % factor == 0:
            a //= factor
            factors.append(factor)
    
    if a != 1:
        return 0
    
    factors.sort()
    result = int("".join(map(str, factors)))
    
    return result if result < 2**31 else 0


Solution = create_solution(smallestFactorization)