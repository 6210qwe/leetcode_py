# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 186
标题: Reverse Words in a String II
难度: medium
链接: https://leetcode.cn/problems/reverse-words-in-a-string-ii/
题目类型: 双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
186. 反转字符串中的单词 II - 备战技术面试？力扣提供海量技术面试资源，帮助你高效提升编程技能,轻松拿下世界 IT 名企 Dream Offer。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 先反转整个字符串，再反转每个单词

算法步骤:
1. 反转整个字符串
2. 找到每个单词的边界
3. 反转每个单词

关键点:
- 原地操作，O(1)空间
- 时间复杂度O(n)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 遍历字符串两次
空间复杂度: O(1) - 原地操作
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def reverse_words(s: List[str]) -> None:
    """
    函数式接口 - 反转字符串中的单词 II
    
    实现思路:
    先反转整个字符串，再反转每个单词。
    
    Args:
        s: 字符数组（原地修改）
        
    Returns:
        None（原地修改）
        
    Example:
        >>> s = ["t","h","e"," ","s","k","y"]
        >>> reverse_words(s)
        >>> s
        ['s', 'k', 'y', ' ', 't', 'h', 'e']
    """
    def reverse(start: int, end: int):
        """反转指定范围的字符"""
        while start < end:
            s[start], s[end] = s[end], s[start]
            start += 1
            end -= 1
    
    # 反转整个字符串
    reverse(0, len(s) - 1)
    
    # 反转每个单词
    start = 0
    for i in range(len(s)):
        if s[i] == ' ':
            reverse(start, i - 1)
            start = i + 1
    # 反转最后一个单词
    reverse(start, len(s) - 1)


# 自动生成Solution类（无需手动编写）
Solution = create_solution(reverse_words)
