# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2540
标题: Color the Triangle Red
难度: hard
链接: https://leetcode.cn/problems/color-the-triangle-red/
题目类型: 数组、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2647. 把三角形染成红色 - 备战技术面试？力扣提供海量技术面试资源，帮助你高效提升编程技能,轻松拿下世界 IT 名企 Dream Offer。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用动态规划来解决这个问题。我们定义一个二维数组 dp，其中 dp[i][j] 表示从 (i, j) 到底边的最小代价。通过自底向上计算每个位置的最小代价，最终得到从顶点到底边的最小代价。

算法步骤:
1. 初始化一个二维数组 dp，大小为 n x n，其中 n 是三角形的高度。
2. 从最后一行开始，逐行向上计算每个位置的最小代价。
3. 对于每个位置 (i, j)，更新 dp[i][j] 为其左下角和右下角的最小值加上当前格子的代价。
4. 最终 dp[0][0] 即为从顶点到底边的最小代价。

关键点:
- 动态规划的状态转移方程：dp[i][j] = min(dp[i+1][j], dp[i+1][j+1]) + triangle[i][j]
- 自底向上计算可以避免重复计算
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n^2)
空间复杂度: O(n^2)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def solution_function_name(triangle: List[List[int]]) -> int:
    """
    函数式接口 - 使用动态规划求解从顶点到底边的最小代价
    """
    n = len(triangle)
    if n == 0:
        return 0

    # 初始化 dp 数组
    dp = [[0] * n for _ in range(n)]
    
    # 设置最后一行的初始值
    for j in range(n):
        dp[n-1][j] = triangle[n-1][j]

    # 自底向上计算每个位置的最小代价
    for i in range(n-2, -1, -1):
        for j in range(i+1):
            dp[i][j] = min(dp[i+1][j], dp[i+1][j+1]) + triangle[i][j]

    return dp[0][0]

Solution = create_solution(solution_function_name)