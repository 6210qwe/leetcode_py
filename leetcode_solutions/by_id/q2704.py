# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2704
标题: Maximum Difference by Remapping a Digit
难度: easy
链接: https://leetcode.cn/problems/maximum-difference-by-remapping-a-digit/
题目类型: 贪心、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2566. 替换一个数字后的最大差值 - 给你一个整数 num 。你知道 Danny Mittal 会偷偷将 0 到 9 中的一个数字 替换 成另一个数字。 请你返回将 num 中 恰好一个 数字进行替换后，得到的最大值和最小值的差为多少。 注意： * 当 Danny 将一个数字 d1 替换成另一个数字 d2 时，Danny 需要将 num 中所有 d1 都替换成 d2 。 * Danny 可以将一个数字替换成它自己，也就是说 num 可以不变。 * Danny 可以将数字分别替换成两个不同的数字分别得到最大值和最小值。 * 替换后得到的数字可以包含前导 0 。 * Danny Mittal 获得周赛 326 前 10 名，让我们恭喜他。 示例 1： 输入：num = 11891 输出：99009 解释： 为了得到最大值，我们将数字 1 替换成数字 9 ，得到 99899 。 为了得到最小值，我们将数字 1 替换成数字 0 ，得到 890 。 两个数字的差值为 99009 。 示例 2： 输入：num = 90 输出：99 解释： 可以得到的最大值是 99（将 0 替换成 9），最小值是 0（将 9 替换成 0）。 所以我们得到 99 。 提示： * 1 <= num <= 108
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过遍历数字的每一位，找到可以替换的最大值和最小值。

算法步骤:
1. 将数字转换为字符串，方便逐位处理。
2. 初始化最大值和最小值为原数字。
3. 遍历每一位数字，尝试将其替换为其他数字：
   - 如果当前位不是 '9'，则将其替换为 '9' 来获取最大值。
   - 如果当前位不是 '0' 且不是最高位，则将其替换为 '0' 来获取最小值。
4. 计算最大值和最小值的差值并返回。

关键点:
- 通过字符串操作来实现数字的替换。
- 处理前导零的情况。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(d)，其中 d 是数字的位数。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def maximum_difference(num: int) -> int:
    """
    函数式接口 - 计算替换一个数字后的最大差值
    """
    num_str = str(num)
    max_num = num
    min_num = num
    
    for i in range(len(num_str)):
        if num_str[i] != '9':
            # 将当前位替换为 '9' 来获取最大值
            max_num = int(num_str[:i] + '9' + num_str[i+1:])
        
        if i != 0 and num_str[i] != '0':
            # 将当前位替换为 '0' 来获取最小值
            min_num = int(num_str[:i] + '0' + num_str[i+1:])
    
    return max_num - min_num


Solution = create_solution(maximum_difference)