# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 193
标题: Valid Phone Numbers
难度: easy
链接: https://leetcode.cn/problems/valid-phone-numbers/
题目类型: Shell
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
193. 有效电话号码 - 给定一个包含电话号码列表（一行一个电话号码）的文本文件 file.txt，写一个单行 bash 脚本输出所有有效的电话号码。 你可以假设一个有效的电话号码必须满足以下两种格式： (xxx) xxx-xxxx 或 xxx-xxx-xxxx。（x 表示一个数字） 你也可以假设每行前后没有多余的空格字符。 示例： 假设 file.txt 内容如下： 987-123-4567 123 456 7890 (123) 456-7890 你的脚本应当输出下列有效的电话号码： 987-123-4567 (123) 456-7890
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: Bash脚本，使用grep和正则表达式匹配电话号码

算法步骤:
1. 使用grep和正则表达式匹配两种格式的电话号码
2. 格式1: (xxx) xxx-xxxx
3. 格式2: xxx-xxx-xxxx

关键点:
- 使用正则表达式匹配电话号码
- Shell脚本
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 需要遍历文件一次
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def valid_phone_numbers():
    """
    函数式接口 - 有效电话号码（Bash脚本）
    
    实现思路:
    使用grep和正则表达式匹配电话号码。
    
    Returns:
        Bash脚本字符串
        
    Example:
        >>> script = valid_phone_numbers()
        >>> # 执行bash脚本
    """
    script = """
    grep -E '^(\\([0-9]{3}\\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$' file.txt
    """
    return script.strip()


# 自动生成Solution类（无需手动编写）
Solution = create_solution(valid_phone_numbers)
