# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 389
标题: Find the Difference
难度: easy
链接: https://leetcode.cn/problems/find-the-difference/
题目类型: 位运算、哈希表、字符串、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
389. 找不同 - 给定两个字符串 s 和 t ，它们只包含小写字母。 字符串 t 由字符串 s 随机重排，然后在随机位置添加一个字母。 请找出在 t 中被添加的字母。 示例 1： 输入：s = "abcd", t = "abcde" 输出："e" 解释：'e' 是那个被添加的字母。 示例 2： 输入：s = "", t = "y" 输出："y" 提示： * 0 <= s.length <= 1000 * t.length == s.length + 1 * s 和 t 只包含小写字母
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 利用异或运算的自反性和结合性，相同字符两两异或为 0，剩下的就是被添加的那个字符。

算法步骤:
1. 定义一个整数 x 初始为 0。
2. 遍历字符串 s，将每个字符的 ASCII 码与 x 做异或。
3. 再遍历字符串 t，将每个字符的 ASCII 码与 x 做异或。
4. 由于 s 中的字符在 t 中都会再次出现并被异或抵消，最终 x 中剩下的就是多出来的那个字符的 ASCII 码，转回字符返回即可。

关键点:
- 利用 a^a=0, a^0=a 的性质，无需额外空间存计数。
- 不依赖字符串顺序，适用于任意重排。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，n 为字符串 t 的长度，需要遍历 s 和 t 各一次。
空间复杂度: O(1)，只使用若干整数变量。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def find_the_difference(s: str, t: str) -> str:
    """
    在字符串 t 中找出被额外添加的那个字符。

    使用异或的性质：相同字符两两异或为 0，最终剩下的就是被添加的字符。
    """
    x = 0
    for ch in s:
        x ^= ord(ch)
    for ch in t:
        x ^= ord(ch)
    return chr(x)


# 自动生成Solution类（无需手动编写）
Solution = create_solution(find_the_difference)
