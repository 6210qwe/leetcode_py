# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3172
标题: Divisible and Non-divisible Sums Difference
难度: easy
链接: https://leetcode.cn/problems/divisible-and-non-divisible-sums-difference/
题目类型: 数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2894. 分类求和并作差 - 给你两个正整数 n 和 m 。 现定义两个整数 num1 和 num2 ，如下所示： * num1：范围 [1, n] 内所有 无法被 m 整除 的整数之和。 * num2：范围 [1, n] 内所有 能够被 m 整除 的整数之和。 返回整数 num1 - num2 。 示例 1： 输入：n = 10, m = 3 输出：19 解释：在这个示例中： - 范围 [1, 10] 内无法被 3 整除的整数为 [1,2,4,5,7,8,10] ，num1 = 这些整数之和 = 37 。 - 范围 [1, 10] 内能够被 3 整除的整数为 [3,6,9] ，num2 = 这些整数之和 = 18 。 返回 37 - 18 = 19 作为答案。 示例 2： 输入：n = 5, m = 6 输出：15 解释：在这个示例中： - 范围 [1, 5] 内无法被 6 整除的整数为 [1,2,3,4,5] ，num1 = 这些整数之和 = 15 。 - 范围 [1, 5] 内能够被 6 整除的整数为 [] ，num2 = 这些整数之和 = 0 。 返回 15 - 0 = 15 作为答案。 示例 3： 输入：n = 5, m = 1 输出：-15 解释：在这个示例中： - 范围 [1, 5] 内无法被 1 整除的整数为 [] ，num1 = 这些整数之和 = 0 。 - 范围 [1, 5] 内能够被 1 整除的整数为 [1,2,3,4,5] ，num2 = 这些整数之和 = 15 。 返回 0 - 15 = -15 作为答案。 提示： * 1 <= n, m <= 1000
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用数学公式直接计算 num1 和 num2，避免遍历。

算法步骤:
1. 计算范围 [1, n] 内所有整数的总和。
2. 计算范围 [1, n] 内所有能被 m 整除的整数的总和。
3. 计算范围 [1, n] 内所有不能被 m 整除的整数的总和。
4. 返回 num1 - num2。

关键点:
- 使用等差数列求和公式计算总和。
- 使用整除和取模运算来确定能被 m 整除的整数。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(1)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def solution_function_name(n: int, m: int) -> int:
    """
    函数式接口 - 计算范围 [1, n] 内所有无法被 m 整除的整数之和与能够被 m 整除的整数之和的差值。
    """
    # 计算范围 [1, n] 内所有整数的总和
    total_sum = n * (n + 1) // 2
    
    # 计算范围 [1, n] 内所有能被 m 整除的整数的总和
    divisible_count = n // m
    divisible_sum = m * divisible_count * (divisible_count + 1) // 2
    
    # 计算范围 [1, n] 内所有不能被 m 整除的整数的总和
    non_divisible_sum = total_sum - divisible_sum
    
    # 返回 num1 - num2
    return non_divisible_sum - divisible_sum


Solution = create_solution(solution_function_name)