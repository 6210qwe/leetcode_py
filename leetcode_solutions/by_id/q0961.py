# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 961
标题: Long Pressed Name
难度: easy
链接: https://leetcode.cn/problems/long-pressed-name/
题目类型: 双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
925. 长按键入 - 你的朋友正在使用键盘输入他的名字 name。偶尔，在键入字符 c 时，按键可能会被长按，而字符可能被输入 1 次或多次。 你将会检查键盘输入的字符 typed。如果它对应的可能是你的朋友的名字（其中一些字符可能被长按），那么就返回 True。 示例 1： 输入：name = "alex", typed = "aaleex" 输出：true 解释：'alex' 中的 'a' 和 'e' 被长按。 示例 2： 输入：name = "saeed", typed = "ssaaedd" 输出：false 解释：'e' 一定需要被键入两次，但在 typed 的输出中不是这样。 提示： * 1 <= name.length, typed.length <= 1000 * name 和 typed 的字符都是小写字母
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双指针分别遍历 name 和 typed 字符串，确保 typed 中的每个字符都能对应到 name 中的字符。

算法步骤:
1. 初始化两个指针 i 和 j 分别指向 name 和 typed 的起始位置。
2. 遍历 typed 字符串：
   - 如果当前字符与 name 中的字符相同，则同时移动两个指针。
   - 如果当前字符与 name 中的字符不同，则检查是否是长按字符（即与前一个字符相同），如果是则只移动 typed 的指针，否则返回 False。
3. 最后检查 name 是否已经完全匹配。

关键点:
- 确保 typed 中的每个字符都能对应到 name 中的字符。
- 处理长按字符的情况。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + m)，其中 n 是 name 的长度，m 是 typed 的长度。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def is_long_pressed_name(name: str, typed: str) -> bool:
    """
    函数式接口 - 判断 typed 是否是 name 的长按键入结果
    """
    i, j = 0, 0
    n, m = len(name), len(typed)
    
    while j < m:
        if i < n and name[i] == typed[j]:
            i += 1
        elif j == 0 or typed[j] != typed[j - 1]:
            return False
        j += 1
    
    return i == n


Solution = create_solution(is_long_pressed_name)