# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1000438
标题: 采集果实
难度: easy
链接: https://leetcode.cn/problems/PTXy4P/
题目类型: 数组
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
LCP 55. 采集果实 - 欢迎各位勇者来到力扣新手村，本次训练内容为「采集果实」。 在新手村中，各位勇者需要采集一些果实来制作药剂。`time[i]` 表示勇者每次采集 `1～limit` 颗第 `i` 种类型的果实需要的时间（即每次最多可以采集 `limit` 颗果实）。 当前勇者需要完成「采集若干批果实」的任务， `fruits[j] = [type, num]` 表示第 `j` 批需要采集 `num` 颗 `type` 类型的果实。采集规则如下： - 按 `fruits` 给定的顺序**依次**采集每一批次 - 采集完当前批次的果实才能开始采集下一批次 - 勇者完成当前批次的采集后将**清空背包**（即多余的果实将清空） 请计算并返回勇者完成采集任务最少需要的时间。 **示例 1：** >输入：`time = [2,3,2], fruits = [[0,2],[1,4],[2,1]], limit = 3` > >输出：`10` > >解释： >由于单次最多采集 3 颗 >第 0 批需要采集 2 颗第 0 类型果实，需要采集 1 次，耗时为 2\*1=2 >第 1 批需要采集 4 颗第 1 类型果实，需要采集 2 次，耗时为 3\*2=6 >第 2 批需要采集 1 颗第 2 类型果实，需要采集 1 次，耗时为 2\*1=2 >返回总耗时 2+6+2=10 **示例 2：** >输入：`time = [1], fruits = [[0,3],[0,5]], limit = 2` > >输出：`5` > >解释： >由于单次最多采集 2 颗 >第 0 批需要采集 3 颗第 0 类型果实，需要采集 2 次，耗时为 1\*2=2 >第 1 批需要采集 5 颗第 0 类型果实，需要采集 3 次，耗时为 1\*3=3 >需按照顺序依次采集，返回 2+3=5 **提示：** - `1 <= time.length <= 100` - `1 <= time[i] <= 100` - `1 <= fruits.length <= 10^3` - `0 <= fruits[i][0] < time.length` - `1 <= fruits[i][1] < 10^3` - `1 <= limit <= 100`
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 模拟采集过程，计算每批次的采集次数

算法步骤:
1. 对每批果实，计算需要采集的次数（向上取整）
2. 次数 = (num + limit - 1) // limit
3. 总时间 = 次数 * time[type]

关键点:
- 简单模拟
- 时间复杂度O(m)，m为批次数量
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(m) - m为批次数量
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def get_minimum_time(time: List[int], fruits: List[List[int]], limit: int) -> int:
    """
    函数式接口 - 采集果实
    
    实现思路:
    模拟采集过程，计算每批次的采集次数。
    
    Args:
        time: 每种类型果实的采集时间
        fruits: 批次数组[type, num]
        limit: 每次最多采集数量
        
    Returns:
        最少需要的时间
        
    Example:
        >>> get_minimum_time([2,3,2], [[0,2],[1,4],[2,1]], 3)
        10
    """
    total_time = 0
    
    for fruit_type, num in fruits:
        # 计算需要采集的次数
        count = (num + limit - 1) // limit
        total_time += count * time[fruit_type]
    
    return total_time


Solution = create_solution(get_minimum_time)
