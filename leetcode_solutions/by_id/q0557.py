# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 557
标题: Reverse Words in a String III
难度: easy
链接: https://leetcode.cn/problems/reverse-words-in-a-string-iii/
题目类型: 双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
557. 反转字符串中的单词 III - 给定一个字符串 s ，你需要反转字符串中每个单词的字符顺序，同时仍保留空格和单词的初始顺序。 示例 1： 输入：s = "Let's take LeetCode contest" 输出："s'teL ekat edoCteeL tsetnoc" 示例 2: 输入： s = "Mr Ding" 输出："rM gniD" 提示： * 1 <= s.length <= 5 * 104 * s 包含可打印的 ASCII 字符。 * s 不包含任何开头或结尾空格。 * s 里 至少 有一个词。 * s 中的所有单词都用一个空格隔开。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双指针方法来反转每个单词，同时保持空格和单词的初始顺序。

算法步骤:
1. 将字符串按空格分割成单词列表。
2. 反转每个单词。
3. 将反转后的单词重新拼接成一个字符串。

关键点:
- 使用 Python 的切片操作来反转单词。
- 使用 `join` 方法将单词列表重新拼接成字符串。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 s 的长度。每个字符最多被访问两次（一次在分割时，一次在拼接时）。
空间复杂度: O(n)，需要额外的空间来存储分割后的单词列表和最终结果字符串。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def solution_function_name(s: str) -> str:
    """
    函数式接口 - 反转字符串中的单词 III
    """
    # 将字符串按空格分割成单词列表
    words = s.split()
    
    # 反转每个单词
    reversed_words = [word[::-1] for word in words]
    
    # 将反转后的单词重新拼接成一个字符串
    return ' '.join(reversed_words)


Solution = create_solution(solution_function_name)