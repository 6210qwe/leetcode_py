# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 531
标题: Lonely Pixel I
难度: medium
链接: https://leetcode.cn/problems/lonely-pixel-i/
题目类型: 数组、哈希表、矩阵
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
531. 孤独像素 I - 备战技术面试？力扣提供海量技术面试资源，帮助你高效提升编程技能,轻松拿下世界 IT 名企 Dream Offer。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用两个哈希表分别记录每行和每列中 'B' 的数量，然后遍历矩阵找到满足条件的 'B'。

算法步骤:
1. 初始化两个哈希表，分别记录每行和每列中 'B' 的数量。
2. 遍历矩阵，更新哈希表中的计数。
3. 再次遍历矩阵，检查每个 'B' 是否是唯一的 'B'（即所在行和所在列中只有这一个 'B'）。

关键点:
- 使用哈希表来记录每行和每列中 'B' 的数量，可以快速判断某个 'B' 是否是唯一的 'B'。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(m * n)，其中 m 是矩阵的行数，n 是矩阵的列数。需要遍历矩阵两次。
空间复杂度: O(m + n)，使用了两个哈希表来记录每行和每列中 'B' 的数量。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def findLonelyPixel(picture: List[List[str]]) -> int:
    """
    函数式接口 - 寻找孤独像素
    """
    if not picture or not picture[0]:
        return 0

    m, n = len(picture), len(picture[0])
    row_count = [0] * m
    col_count = [0] * n

    # 统计每行和每列中 'B' 的数量
    for i in range(m):
        for j in range(n):
            if picture[i][j] == 'B':
                row_count[i] += 1
                col_count[j] += 1

    # 检查每个 'B' 是否是唯一的 'B'
    lonely_pixel_count = 0
    for i in range(m):
        for j in range(n):
            if picture[i][j] == 'B' and row_count[i] == 1 and col_count[j] == 1:
                lonely_pixel_count += 1

    return lonely_pixel_count

Solution = create_solution(findLonelyPixel)