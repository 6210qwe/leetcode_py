# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 841
标题: Shortest Distance to a Character
难度: easy
链接: https://leetcode.cn/problems/shortest-distance-to-a-character/
题目类型: 数组、双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
821. 字符的最短距离 - 给你一个字符串 s 和一个字符 c ，且 c 是 s 中出现过的字符。 返回一个整数数组 answer ，其中 answer.length == s.length 且 answer[i] 是 s 中从下标 i 到离它 最近 的字符 c 的 距离 。 两个下标 i 和 j 之间的 距离 为 abs(i - j) ，其中 abs 是绝对值函数。 示例 1： 输入：s = "loveleetcode", c = "e" 输出：[3,2,1,0,1,0,0,1,2,2,1,0] 解释：字符 'e' 出现在下标 3、5、6 和 11 处（下标从 0 开始计数）。 距下标 0 最近的 'e' 出现在下标 3 ，所以距离为 abs(0 - 3) = 3 。 距下标 1 最近的 'e' 出现在下标 3 ，所以距离为 abs(1 - 3) = 2 。 对于下标 4 ，出现在下标 3 和下标 5 处的 'e' 都离它最近，但距离是一样的 abs(4 - 3) == abs(4 - 5) = 1 。 距下标 8 最近的 'e' 出现在下标 6 ，所以距离为 abs(8 - 6) = 2 。 示例 2： 输入：s = "aaab", c = "b" 输出：[3,2,1,0] 提示： * 1 <= s.length <= 104 * s[i] 和 c 均为小写英文字母 * 题目数据保证 c 在 s 中至少出现一次
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用两次遍历的方法，第一次从左到右遍历，记录每个字符到左边最近的目标字符的距离；第二次从右到左遍历，记录每个字符到右边最近的目标字符的距离。最后取两者中的最小值。

算法步骤:
1. 初始化一个结果数组 `answer`，长度与 `s` 相同，初始值为无穷大。
2. 从左到右遍历字符串 `s`，记录当前目标字符 `c` 的位置 `last_pos`，更新 `answer` 数组。
3. 从右到左遍历字符串 `s`，再次记录当前目标字符 `c` 的位置 `last_pos`，更新 `answer` 数组。
4. 返回 `answer` 数组。

关键点:
- 两次遍历分别记录左右最近的目标字符位置。
- 使用 `min` 函数取两者中的最小值。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 `s` 的长度。需要两次遍历字符串。
空间复杂度: O(1)，除了返回的结果数组外，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def shortest_distance_to_character(s: str, c: str) -> List[int]:
    """
    返回一个整数数组 answer，其中 answer.length == s.length 且 answer[i] 是 s 中从下标 i 到离它最近的字符 c 的距离。
    """
    n = len(s)
    answer = [float('inf')] * n
    last_pos = -float('inf')
    
    # 从左到右遍历
    for i in range(n):
        if s[i] == c:
            last_pos = i
        answer[i] = min(answer[i], i - last_pos)
    
    # 从右到左遍历
    last_pos = float('inf')
    for i in range(n - 1, -1, -1):
        if s[i] == c:
            last_pos = i
        answer[i] = min(answer[i], last_pos - i)
    
    return answer

Solution = create_solution(shortest_distance_to_character)