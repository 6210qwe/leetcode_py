# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 434
标题: Number of Segments in a String
难度: easy
链接: https://leetcode.cn/problems/number-of-segments-in-a-string/
题目类型: 字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
434. 字符串中的单词数 - 统计字符串中的单词个数，这里的单词指的是连续的不是空格的字符。 请注意，你可以假定字符串里不包括任何不可打印的字符。 示例: 输入: "Hello, my name is John" 输出: 5 解释: 这里的单词是指连续的不是空格的字符，所以 "Hello," 算作 1 个单词。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过遍历字符串来统计单词的数量

算法步骤:
1. 初始化一个计数器 `count` 为 0，用于记录单词的数量。
2. 使用一个布尔变量 `in_word` 来标记当前是否在单词中。
3. 遍历字符串中的每个字符：
   - 如果当前字符不是空格且 `in_word` 为 False，则说明遇到了一个新的单词，将 `count` 加 1，并将 `in_word` 设为 True。
   - 如果当前字符是空格且 `in_word` 为 True，则说明当前单词结束，将 `in_word` 设为 False。
4. 返回 `count` 作为结果。

关键点:
- 注意处理字符串开头和结尾的空格。
- 优化时间和空间复杂度，时间复杂度为 O(n)，空间复杂度为 O(1)。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 需要遍历整个字符串一次
空间复杂度: O(1) - 只使用了常数级的额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def number_of_segments_in_a_string(s: str) -> int:
    """
    函数式接口 - 统计字符串中的单词数量
    
    实现思路:
    通过遍历字符串来统计单词的数量，时间复杂度为 O(n)，空间复杂度为 O(1)。
    
    Args:
        s: 输入的字符串
        
    Returns:
        单词的数量
        
    Example:
        >>> number_of_segments_in_a_string("Hello, my name is John")
        5
    """
    count = 0
    in_word = False
    for char in s:
        if char != ' ':
            if not in_word:
                count += 1
                in_word = True
        else:
            in_word = False
    return count


# 自动生成Solution类（无需手动编写）
Solution = create_solution(number_of_segments_in_a_string)