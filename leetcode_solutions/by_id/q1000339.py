# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1000339
标题: 数组的相对排序
难度: easy
链接: https://leetcode.cn/problems/0H97ZC/
题目类型: 数组、哈希表、计数排序、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
LCR 075. 数组的相对排序 - 给定两个数组，arr1 和 arr2， * arr2 中的元素各不相同 * arr2 中的每个元素都出现在 arr1 中 对 arr1 中的元素进行排序，使 arr1 中项的相对顺序和 arr2 中的相对顺序相同。未在 arr2 中出现过的元素需要按照升序放在 arr1 的末尾。 示例： 输入：arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6] 输出：[2,2,2,1,4,3,3,9,6,7,19] 提示： * 1 <= arr1.length, arr2.length <= 1000 * 0 <= arr1[i], arr2[i] <= 1000 * arr2 中的元素 arr2[i] 各不相同 * arr2 中的每个元素 arr2[i] 都出现在 arr1 中 注意：本题与主站 1122 题相同：https://leetcode.cn/problems/relative-sort-array/ [https://leetcode.cn/problems/relative-sort-array/]
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用计数排序来实现相对排序。

算法步骤:
1. 创建一个计数数组 `count` 来记录 `arr1` 中每个元素的出现次数。
2. 遍历 `arr2`，根据 `arr2` 中的顺序将 `arr1` 中的元素添加到结果数组 `result` 中，并从 `count` 中减去相应的计数。
3. 遍历 `count` 数组，将剩余的元素（即不在 `arr2` 中的元素）按升序添加到结果数组 `result` 中。

关键点:
- 使用计数排序可以有效地处理 `arr1` 中的重复元素，并且时间复杂度为 O(n)。
- 空间复杂度为 O(k)，其中 k 是 `arr1` 中元素的最大值。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + k)，其中 n 是 `arr1` 的长度，k 是 `arr1` 中元素的最大值。
空间复杂度: O(k)，用于存储计数数组。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def relative_sort_array(arr1: List[int], arr2: List[int]) -> List[int]:
    """
    函数式接口 - 实现相对排序
    """
    # 计数数组
    count = [0] * 1001
    for num in arr1:
        count[num] += 1
    
    result = []
    # 按照 arr2 的顺序添加元素
    for num in arr2:
        result.extend([num] * count[num])
        count[num] = 0
    
    # 添加剩余的元素
    for num in range(1001):
        if count[num] > 0:
            result.extend([num] * count[num])
    
    return result


Solution = create_solution(relative_sort_array)