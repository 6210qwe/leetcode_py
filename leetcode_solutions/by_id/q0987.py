# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 987
标题: Reveal Cards In Increasing Order
难度: medium
链接: https://leetcode.cn/problems/reveal-cards-in-increasing-order/
题目类型: 队列、数组、排序、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
950. 按递增顺序显示卡牌 - 牌组中的每张卡牌都对应有一个唯一的整数。你可以按你想要的顺序对这套卡片进行排序。 最初，这些卡牌在牌组里是正面朝下的（即，未显示状态）。 现在，重复执行以下步骤，直到显示所有卡牌为止： 1. 从牌组顶部抽一张牌，显示它，然后将其从牌组中移出。 2. 如果牌组中仍有牌，则将下一张处于牌组顶部的牌放在牌组的底部。 3. 如果仍有未显示的牌，那么返回步骤 1。否则，停止行动。 返回能以递增顺序显示卡牌的牌组顺序。 答案中的第一张牌被认为处于牌堆顶部。 示例： 输入：[17,13,11,2,3,5,7] 输出：[2,13,3,11,5,17,7] 解释： 我们得到的牌组顺序为 [17,13,11,2,3,5,7]（这个顺序不重要），然后将其重新排序。 重新排序后，牌组以 [2,13,3,11,5,17,7] 开始，其中 2 位于牌组的顶部。 我们显示 2，然后将 13 移到底部。牌组现在是 [3,11,5,17,7,13]。 我们显示 3，并将 11 移到底部。牌组现在是 [5,17,7,13,11]。 我们显示 5，然后将 17 移到底部。牌组现在是 [7,13,11,17]。 我们显示 7，并将 13 移到底部。牌组现在是 [11,17,13]。 我们显示 11，然后将 17 移到底部。牌组现在是 [13,17]。 我们展示 13，然后将 17 移到底部。牌组现在是 [17]。 我们显示 17。 由于所有卡片都是按递增顺序排列显示的，所以答案是正确的。 提示： 1. 1 <= A.length <= 1000 2. 1 <= A[i] <= 10^6 3. 对于所有的 i != j，A[i] != A[j]
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 先将卡牌按递增顺序排序，然后使用一个双端队列来模拟牌组的操作。

算法步骤:
1. 将卡牌按递增顺序排序。
2. 初始化一个双端队列，将排序后的卡牌依次放入队列。
3. 使用一个空列表 `result` 来存储最终的卡牌顺序。
4. 重复以下步骤，直到队列为空：
   - 从队列头部取出一张卡牌，将其加入 `result`。
   - 如果队列不为空，将队列头部的卡牌移到队列尾部。
5. 返回 `result`。

关键点:
- 使用双端队列来高效地模拟卡牌移动操作。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n)，其中 n 是卡牌的数量。排序操作的时间复杂度为 O(n log n)，而后续的队列操作为 O(n)。
空间复杂度: O(n)，双端队列和结果列表都需要 O(n) 的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from collections import deque

def reveal_cards_in_increasing_order(deck: List[int]) -> List[int]:
    """
    返回能以递增顺序显示卡牌的牌组顺序。
    """
    # 将卡牌按递增顺序排序
    deck.sort()
    
    # 初始化双端队列
    queue = deque()
    for card in deck:
        queue.append(card)
    
    result = []
    while queue:
        # 从队列头部取出一张卡牌，加入结果列表
        result.append(queue.popleft())
        
        # 如果队列不为空，将队列头部的卡牌移到队列尾部
        if queue:
            queue.append(queue.popleft())
    
    return result

Solution = create_solution(reveal_cards_in_increasing_order)