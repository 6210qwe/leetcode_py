# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 100174
标题: Minimum Height Tree LCCI
难度: easy
链接: https://leetcode.cn/problems/minimum-height-tree-lcci/
题目类型: 树、二叉搜索树、数组、分治、二叉树
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
面试题 04.02. 最小高度树 - 给定一个有序整数数组，元素各不相同且按升序排列，编写一个算法，创建一棵高度最小的二叉搜索树。 示例： 给定有序数组: [-10,-3,0,5,9], 一个可能的答案是：[0,-3,9,-10,null,5]，它可以表示下面这个高度平衡二叉搜索树： 0 / \ -3 9 / / -10 5
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过递归构建二叉搜索树，选择中间元素作为根节点，以确保左右子树的高度尽可能平衡。

算法步骤:
1. 找到数组的中间元素作为根节点。
2. 递归地对左半部分和右半部分分别构建左子树和右子树。
3. 返回根节点。

关键点:
- 选择中间元素作为根节点可以保证树的高度最小。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 每个元素只访问一次。
空间复杂度: O(log n) - 递归调用栈的深度为 log n。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution

def sorted_array_to_bst(nums: List[int]) -> Optional[TreeNode]:
    """
    将有序数组转换为高度最小的二叉搜索树。
    """
    if not nums:
        return None

    def build_tree(left: int, right: int) -> Optional[TreeNode]:
        if left > right:
            return None
        mid = (left + right) // 2
        root = TreeNode(nums[mid])
        root.left = build_tree(left, mid - 1)
        root.right = build_tree(mid + 1, right)
        return root

    return build_tree(0, len(nums) - 1)

Solution = create_solution(sorted_array_to_bst)