# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 541
标题: Reverse String II
难度: easy
链接: https://leetcode.cn/problems/reverse-string-ii/
题目类型: 双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
541. 反转字符串 II - 给定一个字符串 s 和一个整数 k，从字符串开头算起，每计数至 2k 个字符，就反转这 2k 字符中的前 k 个字符。 * 如果剩余字符少于 k 个，则将剩余字符全部反转。 * 如果剩余字符小于 2k 但大于或等于 k 个，则反转前 k 个字符，其余字符保持原样。 示例 1： 输入：s = "abcdefg", k = 2 输出："bacdfeg" 示例 2： 输入：s = "abcd", k = 2 输出："bacd" 提示： * 1 <= s.length <= 104 * s 仅由小写英文组成 * 1 <= k <= 104
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过遍历字符串，每 2k 个字符为一组，反转前 k 个字符。

算法步骤:
1. 将字符串转换为列表以便进行原地修改。
2. 使用一个循环，每次处理 2k 个字符。
3. 在每个 2k 个字符的组中，反转前 k 个字符。
4. 将列表重新转换为字符串并返回。

关键点:
- 每次处理 2k 个字符，确保不会越界。
- 反转前 k 个字符时，注意处理剩余字符不足 k 个的情况。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串的长度。每个字符最多被访问两次（一次读取，一次写入）。
空间复杂度: O(n)，因为需要将字符串转换为列表进行原地修改。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def solution_function_name(s: str, k: int) -> str:
    """
    函数式接口 - 实现反转字符串 II
    """
    # 将字符串转换为列表以便进行原地修改
    chars = list(s)
    n = len(chars)
    
    # 遍历字符串，每 2k 个字符为一组
    for i in range(0, n, 2 * k):
        # 反转前 k 个字符
        chars[i:i + k] = reversed(chars[i:i + k])
    
    # 将列表重新转换为字符串并返回
    return ''.join(chars)


Solution = create_solution(solution_function_name)