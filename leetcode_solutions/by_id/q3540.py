# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3540
标题: Hash Divided String
难度: medium
链接: https://leetcode.cn/problems/hash-divided-string/
题目类型: 字符串、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
3271. 哈希分割字符串 - 给你一个长度为 n 的字符串 s 和一个整数 k ，n 是 k 的 倍数 。你的任务是将字符串 s 哈希为一个长度为 n / k 的新字符串 result 。 首先，将 s 分割成 n / k 个 子字符串 ，每个子字符串的长度都为 k 。然后，将 result 初始化为一个 空 字符串。 我们依次从前往后处理每一个 子字符串 ： * 一个字符的 哈希值 是它在 字母表 中的下标（也就是 'a' → 0 ，'b' → 1 ，... ，'z' → 25）。 * 将子字符串中字母的 哈希值 求和。 * 将和对 26 取余，将结果记为 hashedChar 。 * 找到小写字母表中 hashedChar 对应的字符。 * 将该字符添加到 result 的末尾。 返回 result 。 示例 1： 输入：s = "abcd", k = 2 输出："bf" 解释： 第一个字符串为 "ab" ，0 + 1 = 1 ，1 % 26 = 1 ，result[0] = 'b' 。 第二个字符串为： "cd" ，2 + 3 = 5 ，5 % 26 = 5 ，result[1] = 'f' 。 示例 2： 输入：s = "mxz", k = 3 输出："i" 解释： 唯一的子字符串为 "mxz" ，12 + 23 + 25 = 60 ，60 % 26 = 8 ，result[0] = 'i' 。 提示： * 1 <= k <= 100 * k <= s.length <= 1000 * s.length 能被 k 整除。 * s 只含有小写英文字母。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 将字符串 s 分割成多个长度为 k 的子字符串，对每个子字符串中的字符进行哈希计算，然后将结果拼接成新的字符串。

算法步骤:
1. 初始化一个空字符串 result 用于存储最终结果。
2. 遍历字符串 s，每次取长度为 k 的子字符串。
3. 对每个子字符串中的字符进行哈希计算，即计算其在字母表中的下标之和，并对 26 取余。
4. 将取余后的结果转换为对应的字符，并添加到 result 中。
5. 返回 result。

关键点:
- 使用切片操作来获取子字符串。
- 使用 ord 函数获取字符的 ASCII 值，并减去 'a' 的 ASCII 值来得到其在字母表中的下标。
- 使用 chr 函数将哈希值转换回字符。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 s 的长度。我们需要遍历整个字符串 s。
空间复杂度: O(1)，除了结果字符串 result 外，我们只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def hash_divided_string(s: str, k: int) -> str:
    """
    将字符串 s 哈希为一个长度为 n / k 的新字符串 result。
    
    :param s: 输入字符串
    :param k: 子字符串的长度
    :return: 哈希后的结果字符串
    """
    result = []
    for i in range(0, len(s), k):
        substring = s[i:i + k]
        hash_sum = sum(ord(c) - ord('a') for c in substring)
        hashed_char = chr((hash_sum % 26) + ord('a'))
        result.append(hashed_char)
    return ''.join(result)


Solution = create_solution(hash_divided_string)