# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1858
标题: Latest Time by Replacing Hidden Digits
难度: easy
链接: https://leetcode.cn/problems/latest-time-by-replacing-hidden-digits/
题目类型: 贪心、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1736. 替换隐藏数字得到的最晚时间 - 给你一个字符串 time ，格式为 hh:mm（小时：分钟），其中某几位数字被隐藏（用 ? 表示）。 有效的时间为 00:00 到 23:59 之间的所有时间，包括 00:00 和 23:59 。 替换 time 中隐藏的数字，返回你可以得到的最晚有效时间。 示例 1： 输入：time = "2?:?0" 输出："23:50" 解释：以数字 '2' 开头的最晚一小时是 23 ，以 '0' 结尾的最晚一分钟是 50 。 示例 2： 输入：time = "0?:3?" 输出："09:39" 示例 3： 输入：time = "1?:22" 输出："19:22" 提示： * time 的格式为 hh:mm * 题目数据保证你可以由输入的字符串生成有效的时间
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用贪心算法，从左到右逐个替换隐藏的数字，确保每一步都尽可能选择最大的合法值。

算法步骤:
1. 将时间字符串拆分为小时和分钟部分。
2. 逐个处理小时部分的每一位，确保小时部分在 00 到 23 之间。
3. 逐个处理分钟部分的每一位，确保分钟部分在 00 到 59 之间。
4. 返回最终的时间字符串。

关键点:
- 确保小时部分的第一位不超过 2，第二位不超过 3（如果第一位是 2）或 9（如果第一位是 0 或 1）。
- 确保分钟部分的每一位不超过 5。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(1) - 固定长度的字符串处理。
空间复杂度: O(1) - 只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

def find_latest_time(time: str) -> str:
    """
    函数式接口 - 替换隐藏数字得到的最晚时间
    """
    # 将时间字符串拆分为小时和分钟部分
    hours, minutes = time[:2], time[3:]

    # 处理小时部分
    if hours[0] == '?':
        if hours[1] in '0123?':
            hours = '2' + hours[1]
        else:
            hours = '1' + hours[1]
    if hours[1] == '?':
        if hours[0] == '2':
            hours = hours[0] + '3'
        else:
            hours = hours[0] + '9'

    # 处理分钟部分
    if minutes[0] == '?':
        minutes = '5' + minutes[1]
    if minutes[1] == '?':
        minutes = minutes[0] + '9'

    return f"{hours}:{minutes}"

Solution = create_solution(find_latest_time)