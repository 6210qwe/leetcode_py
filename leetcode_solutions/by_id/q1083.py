# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1083
标题: Two Sum Less Than K
难度: easy
链接: https://leetcode.cn/problems/two-sum-less-than-k/
题目类型: 数组、双指针、二分查找、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
给定一个整数数组 nums 和一个整数 k，返回两个不同的索引 i 和 j，使得 nums[i] + nums[j] < k。如果不存在这样的索引对，则返回 -1。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双指针法在排序后的数组中找到满足条件的两数之和。

算法步骤:
1. 对数组进行排序。
2. 使用双指针从两端向中间遍历数组，寻找满足条件的两数之和。
3. 如果找到满足条件的两数之和，记录并更新最大值。
4. 返回最大值或 -1（如果没有找到满足条件的两数之和）。

关键点:
- 排序后使用双指针可以高效地找到满足条件的两数之和。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n)，其中 n 是数组的长度。排序操作的时间复杂度为 O(n log n)，双指针遍历的时间复杂度为 O(n)。
空间复杂度: O(1)，除了输入数组外，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def two_sum_less_than_k(nums: List[int], k: int) -> int:
    """
    函数式接口 - 实现
    """
    # 对数组进行排序
    nums.sort()
    
    # 初始化双指针
    left, right = 0, len(nums) - 1
    max_sum = -1
    
    # 使用双指针从两端向中间遍历数组
    while left < right:
        current_sum = nums[left] + nums[right]
        if current_sum < k:
            max_sum = max(max_sum, current_sum)
            left += 1  # 移动左指针以尝试更大的和
        else:
            right -= 1  # 移动右指针以尝试更小的和
    
    return max_sum


Solution = create_solution(two_sum_less_than_k)