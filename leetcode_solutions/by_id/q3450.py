# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3450
标题: Find the Child Who Has the Ball After K Seconds
难度: easy
链接: https://leetcode.cn/problems/find-the-child-who-has-the-ball-after-k-seconds/
题目类型: 数学、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
3178. 找出 K 秒后拿着球的孩子 - 给你两个 正整数 n 和 k。有 n 个编号从 0 到 n - 1 的孩子按顺序从左到右站成一队。 最初，编号为 0 的孩子拿着一个球，并且向右传球。每过一秒，拿着球的孩子就会将球传给他旁边的孩子。一旦球到达队列的 任一端 ，即编号为 0 的孩子或编号为 n - 1 的孩子处，传球方向就会 反转 。 返回 k 秒后接到球的孩子的编号。 示例 1： 输入：n = 3, k = 5 输出：1 解释： 经过的时间 孩子队列 0 [0, 1, 2] 1 [0, 1, 2] 2 [0, 1, 2] 3 [0, 1, 2] 4 [0, 1, 2] 5 [0, 1, 2] 示例 2： 输入：n = 5, k = 6 输出：2 解释： 经过的时间 孩子队列 0 [0, 1, 2, 3, 4] 1 [0, 1, 2, 3, 4] 2 [0, 1, 2, 3, 4] 3 [0, 1, 2, 3, 4] 4 [0, 1, 2, 3, 4] 5 [0, 1, 2, 3, 4] 6 [0, 1, 2, 3, 4] 示例 3： 输入：n = 4, k = 2 输出：2 解释： 经过的时间 孩子队列 0 [0, 1, 2, 3] 1 [0, 1, 2, 3] 2 [0, 1, 2, 3] 提示： * 2 <= n <= 50 * 1 <= k <= 50 注意：此问题与 2582. 递枕头 [https://leetcode.cn/problems/pass-the-pillow/] 一致。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过计算 k 秒后的球的位置来确定持有球的孩子编号。球在两端时会反转方向，因此可以通过模运算来简化计算。

算法步骤:
1. 计算 k 秒内球经过的完整往返次数。
2. 计算 k 秒后球的实际位置。
3. 根据球的方向和位置确定最终持球的孩子编号。

关键点:
- 使用模运算简化计算。
- 处理球在两端时的方向反转。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(1)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def find_ball_holder(n: int, k: int) -> int:
    """
    函数式接口 - 找出 K 秒后拿着球的孩子
    """
    # 计算 k 秒内球经过的完整往返次数
    full_rounds = k // (n - 1)
    # 计算 k 秒后球的实际位置
    position = k % (n - 1)
    
    # 根据球的方向和位置确定最终持球的孩子编号
    if full_rounds % 2 == 0:
        return position
    else:
        return n - 1 - position


Solution = create_solution(find_ball_holder)