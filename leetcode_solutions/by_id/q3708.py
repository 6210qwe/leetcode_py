# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3708
标题: Zigzag Grid Traversal With Skip
难度: easy
链接: https://leetcode.cn/problems/zigzag-grid-traversal-with-skip/
题目类型: 数组、矩阵、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
3417. 跳过交替单元格的之字形遍历 - 给你一个 m x n 的二维数组 grid，数组由 正整数 组成。 你的任务是以 之字形 遍历 grid，同时跳过每个 交替 的单元格。 之字形遍历的定义如下： * 从左上角的单元格 (0, 0) 开始。 * 在当前行中向 右 移动，直到到达该行的末尾。 * 下移到下一行，然后在该行中向 左 移动，直到到达该行的开头。 * 继续在行间交替向右和向左移动，直到所有行都被遍历完。 注意：在遍历过程中，必须跳过每个 交替 的单元格。 返回一个整数数组 result，其中包含按 顺序 记录的、且跳过交替单元格后的之字形遍历中访问到的单元格值。 示例 1： 输入： grid = [[1,2],[3,4]] 输出： [1,4] 解释： [https://assets.leetcode.com/uploads/2024/11/23/4012_example0.png] 示例 2： 输入： grid = [[2,1],[2,1],[2,1]] 输出： [2,1,2] 解释： [https://assets.leetcode.com/uploads/2024/11/23/4012_example1.png] 示例 3： 输入： grid = [[1,2,3],[4,5,6],[7,8,9]] 输出： [1,3,5,7,9] 解释： [https://assets.leetcode.com/uploads/2024/11/23/4012_example2.png] 提示： * 2 <= n == grid.length <= 50 * 2 <= m == grid[i].length <= 50 * 1 <= grid[i][j] <= 2500
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过双层循环遍历矩阵，根据行号的奇偶性决定遍历方向，并跳过交替单元格。

算法步骤:
1. 初始化结果列表 `result`。
2. 使用双层循环遍历矩阵：
   - 外层循环遍历每一行。
   - 内层循环根据行号的奇偶性决定遍历方向（从左到右或从右到左）。
   - 根据行号的奇偶性决定是否跳过单元格。
3. 将遍历到的单元格值添加到结果列表 `result` 中。
4. 返回结果列表 `result`。

关键点:
- 通过行号的奇偶性来决定遍历方向和是否跳过单元格。
- 保持时间复杂度为 O(m * n)，空间复杂度为 O(1)。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(m * n)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def zigzag_traverse(grid: List[List[int]]) -> List[int]:
    """
    函数式接口 - 跳过交替单元格的之字形遍历
    """
    m, n = len(grid), len(grid[0])
    result = []
    
    for i in range(m):
        if i % 2 == 0:
            # 从左到右遍历
            for j in range(0, n, 2):
                result.append(grid[i][j])
        else:
            # 从右到左遍历
            for j in range(n - 1, -1, -2):
                result.append(grid[i][j])
    
    return result


Solution = create_solution(zigzag_traverse)