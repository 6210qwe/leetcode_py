# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 824
标题: Number of Lines To Write String
难度: easy
链接: https://leetcode.cn/problems/number-of-lines-to-write-string/
题目类型: 数组、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
806. 写字符串需要的行数 - 我们要把给定的字符串 S 从左到右写到每一行上，每一行的最大宽度为100个单位，如果我们在写某个字母的时候会使这行超过了100 个单位，那么我们应该把这个字母写到下一行。我们给定了一个数组 widths ，这个数组 widths[0] 代表 'a' 需要的单位， widths[1] 代表 'b' 需要的单位，...， widths[25] 代表 'z' 需要的单位。 现在回答两个问题：至少多少行能放下S，以及最后一行使用的宽度是多少个单位？将你的答案作为长度为2的整数列表返回。 示例 1: 输入: widths = [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10] S = "abcdefghijklmnopqrstuvwxyz" 输出: [3, 60] 解释: 所有的字符拥有相同的占用单位10。所以书写所有的26个字母， 我们需要2个整行和占用60个单位的一行。 示例 2: 输入: widths = [4,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10] S = "bbbcccdddaaa" 输出: [2, 4] 解释: 除去字母'a'所有的字符都是相同的单位10，并且字符串 "bbbcccdddaa" 将会覆盖 9 * 10 + 2 * 4 = 98 个单位. 最后一个字母 'a' 将会被写到第二行，因为第一行只剩下2个单位了。 所以，这个答案是2行，第二行有4个单位宽度。 注: * 字符串 S 的长度在 [1, 1000] 的范围。 * S 只包含小写字母。 * widths 是长度为 26的数组。 * widths[i] 值的范围在 [2, 10]。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用一个循环遍历字符串 S，计算每行的宽度并更新行数。

算法步骤:
1. 初始化行数 lines 为 1 和当前行的宽度 current_width 为 0。
2. 遍历字符串 S 中的每个字符：
   - 计算该字符的宽度。
   - 如果当前行的宽度加上该字符的宽度超过 100，则增加行数并将当前行的宽度重置为该字符的宽度。
   - 否则，将该字符的宽度加到当前行的宽度中。
3. 返回行数和最后一行的宽度。

关键点:
- 每次遇到超过 100 单位的情况时，需要增加行数并重置当前行的宽度。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 S 的长度。我们需要遍历整个字符串一次。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def number_of_lines(widths: List[int], s: str) -> List[int]:
    """
    函数式接口 - 计算写字符串需要的行数和最后一行的宽度
    """
    lines = 1
    current_width = 0
    
    for char in s:
        char_width = widths[ord(char) - ord('a')]
        if current_width + char_width > 100:
            lines += 1
            current_width = char_width
        else:
            current_width += char_width
    
    return [lines, current_width]


Solution = create_solution(number_of_lines)