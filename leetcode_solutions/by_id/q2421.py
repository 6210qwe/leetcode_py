# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2421
标题: Maximum Number of Pairs in Array
难度: easy
链接: https://leetcode.cn/problems/maximum-number-of-pairs-in-array/
题目类型: 数组、哈希表、计数
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2341. 数组能形成多少数对 - 给你一个下标从 0 开始的整数数组 nums 。在一步操作中，你可以执行以下步骤： * 从 nums 选出 两个 相等的 整数 * 从 nums 中移除这两个整数，形成一个 数对 请你在 nums 上多次执行此操作直到无法继续执行。 返回一个下标从 0 开始、长度为 2 的整数数组 answer 作为答案，其中 answer[0] 是形成的数对数目，answer[1] 是对 nums 尽可能执行上述操作后剩下的整数数目。 示例 1： 输入：nums = [1,3,2,1,3,2,2] 输出：[3,1] 解释： nums[0] 和 nums[3] 形成一个数对，并从 nums 中移除，nums = [3,2,3,2,2] 。 nums[0] 和 nums[2] 形成一个数对，并从 nums 中移除，nums = [2,2,2] 。 nums[0] 和 nums[1] 形成一个数对，并从 nums 中移除，nums = [2] 。 无法形成更多数对。总共形成 3 个数对，nums 中剩下 1 个数字。 示例 2： 输入：nums = [1,1] 输出：[1,0] 解释：nums[0] 和 nums[1] 形成一个数对，并从 nums 中移除，nums = [] 。 无法形成更多数对。总共形成 1 个数对，nums 中剩下 0 个数字。 示例 3： 输入：nums = [0] 输出：[0,1] 解释：无法形成数对，nums 中剩下 1 个数字。 提示： * 1 <= nums.length <= 100 * 0 <= nums[i] <= 100
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用哈希表统计每个数字的出现次数，然后计算可以形成的数对数量和剩余的单个数字数量。

算法步骤:
1. 使用哈希表统计每个数字的出现次数。
2. 遍历哈希表，计算每个数字可以形成的数对数量，并累加到总数对数量中。
3. 计算剩余的单个数字数量。

关键点:
- 使用哈希表统计每个数字的出现次数，时间复杂度为 O(n)。
- 通过遍历哈希表计算数对数量和剩余单个数字数量，时间复杂度为 O(k)，其中 k 是不同数字的数量。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + k)
- n 是数组的长度，用于统计每个数字的出现次数。
- k 是不同数字的数量，用于计算数对数量和剩余单个数字数量。

空间复杂度: O(k)
- k 是不同数字的数量，用于存储哈希表。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def max_number_of_pairs(nums: List[int]) -> List[int]:
    """
    函数式接口 - 计算数组中可以形成的数对数量和剩余的单个数字数量
    """
    # 使用哈希表统计每个数字的出现次数
    count = {}
    for num in nums:
        if num in count:
            count[num] += 1
        else:
            count[num] = 1
    
    # 初始化结果数组
    result = [0, 0]
    
    # 遍历哈希表，计算数对数量和剩余单个数字数量
    for num, freq in count.items():
        pairs = freq // 2
        singles = freq % 2
        result[0] += pairs
        result[1] += singles
    
    return result


Solution = create_solution(max_number_of_pairs)