# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1532
标题: Reformat The String
难度: easy
链接: https://leetcode.cn/problems/reformat-the-string/
题目类型: 字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1417. 重新格式化字符串 - 给你一个混合了数字和字母的字符串 s，其中的字母均为小写英文字母。 请你将该字符串重新格式化，使得任意两个相邻字符的类型都不同。也就是说，字母后面应该跟着数字，而数字后面应该跟着字母。 请你返回 重新格式化后 的字符串；如果无法按要求重新格式化，则返回一个 空字符串 。 示例 1： 输入：s = "a0b1c2" 输出："0a1b2c" 解释："0a1b2c" 中任意两个相邻字符的类型都不同。 "a0b1c2", "0a1b2c", "0c2a1b" 也是满足题目要求的答案。 示例 2： 输入：s = "leetcode" 输出："" 解释："leetcode" 中只有字母，所以无法满足重新格式化的条件。 示例 3： 输入：s = "1229857369" 输出："" 解释："1229857369" 中只有数字，所以无法满足重新格式化的条件。 示例 4： 输入：s = "covid2019" 输出："c2o0v1i9d" 示例 5： 输入：s = "ab123" 输出："1a2b3" 提示： * 1 <= s.length <= 500 * s 仅由小写英文字母和/或数字组成。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 将字母和数字分别存储在两个列表中，然后交替合并这两个列表。

算法步骤:
1. 初始化两个列表，一个存储字母，一个存储数字。
2. 遍历输入字符串，将字母和数字分别添加到对应的列表中。
3. 检查字母和数字的数量差是否超过1，如果是则返回空字符串。
4. 交替合并两个列表，确保字母和数字交替出现。

关键点:
- 使用两个列表分别存储字母和数字。
- 交替合并时，确保数量较多的列表先开始。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串的长度。我们需要遍历字符串一次，并进行一次线性合并。
空间复杂度: O(n)，我们使用了额外的两个列表来存储字母和数字。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def reformat_string(s: str) -> str:
    """
    函数式接口 - 重新格式化字符串
    """
    # 存储字母和数字
    letters = []
    digits = []

    # 分类存储字母和数字
    for char in s:
        if char.isalpha():
            letters.append(char)
        else:
            digits.append(char)

    # 检查数量差是否超过1
    if abs(len(letters) - len(digits)) > 1:
        return ""

    # 交替合并两个列表
    result = []
    if len(letters) > len(digits):
        longer, shorter = letters, digits
    else:
        longer, shorter = digits, letters

    for i in range(len(shorter)):
        result.append(longer[i])
        result.append(shorter[i])

    if len(longer) > len(shorter):
        result.append(longer[-1])

    return ''.join(result)


Solution = create_solution(reformat_string)