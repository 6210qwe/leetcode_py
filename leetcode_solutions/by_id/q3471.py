# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3471
标题: Minimum Average of Smallest and Largest Elements
难度: easy
链接: https://leetcode.cn/problems/minimum-average-of-smallest-and-largest-elements/
题目类型: 数组、双指针、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
3194. 最小元素和最大元素的最小平均值 - 你有一个初始为空的浮点数数组 averages。另给你一个包含 n 个整数的数组 nums，其中 n 为偶数。 你需要重复以下步骤 n / 2 次： * 从 nums 中移除 最小 的元素 minElement 和 最大 的元素 maxElement。 * 将 (minElement + maxElement) / 2 加入到 averages 中。 返回 averages 中的 最小 元素。 示例 1： 输入： nums = [7,8,3,4,15,13,4,1] 输出： 5.5 解释： 步骤 nums averages 0 [7,8,3,4,15,13,4,1] [] 1 [7,8,3,4,13,4] [8] 2 [7,8,4,4] [8,8] 3 [7,4] [8,8,6] 4 [] [8,8,6,5.5] 返回 averages 中最小的元素，即 5.5。 示例 2： 输入： nums = [1,9,8,3,10,5] 输出： 5.5 解释： 步骤 nums averages 0 [1,9,8,3,10,5] [] 1 [9,8,3,5] [5.5] 2 [8,5] [5.5,6] 3 [] [5.5,6,6.5] 示例 3： 输入： nums = [1,2,3,7,8,9] 输出： 5.0 解释： 步骤 nums averages 0 [1,2,3,7,8,9] [] 1 [2,3,7,8] [5] 2 [3,7] [5,5] 3 [] [5,5,5] 提示： * 2 <= n == nums.length <= 50 * n 为偶数。 * 1 <= nums[i] <= 50
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过排序和双指针方法找到每一步的最小和最大元素，并计算它们的平均值。

算法步骤:
1. 对数组进行排序。
2. 使用双指针从两端向中间遍历，每次取最小和最大元素，计算它们的平均值并加入结果数组。
3. 返回结果数组中的最小值。

关键点:
- 排序后使用双指针可以高效地找到每一步的最小和最大元素。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n)，其中 n 是数组的长度。排序操作的时间复杂度是 O(n log n)，而后续的遍历操作是 O(n)。
空间复杂度: O(1)，除了输入和输出外，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def minimum_average(nums: List[int]) -> float:
    """
    函数式接口 - 计算最小元素和最大元素的最小平均值
    """
    # 对数组进行排序
    nums.sort()
    
    # 初始化结果数组
    averages = []
    
    # 使用双指针从两端向中间遍历
    left, right = 0, len(nums) - 1
    while left < right:
        min_element = nums[left]
        max_element = nums[right]
        average = (min_element + max_element) / 2
        averages.append(average)
        left += 1
        right -= 1
    
    # 返回结果数组中的最小值
    return min(averages)


Solution = create_solution(minimum_average)