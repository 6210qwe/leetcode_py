# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 70
标题: Climbing Stairs
难度: easy
链接: https://leetcode.cn/problems/climbing-stairs/
题目类型: 记忆化搜索、数学、动态规划
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
70. 爬楼梯 - 假设你正在爬楼梯。需要 n 阶你才能到达楼顶。 每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？ 示例 1： 输入：n = 2 输出：2 解释：有两种方法可以爬到楼顶。 1. 1 阶 + 1 阶 2. 2 阶 示例 2： 输入：n = 3 输出：3 解释：有三种方法可以爬到楼顶。 1. 1 阶 + 1 阶 + 1 阶 2. 1 阶 + 2 阶 3. 2 阶 + 1 阶 提示： * 1 <= n <= 45
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 动态规划，dp[i]表示到达第i阶的方法数

算法步骤:
1. 状态转移：dp[i] = dp[i-1] + dp[i-2]
   - 可以从第i-1阶爬1步到达
   - 可以从第i-2阶爬2步到达
2. 初始化：dp[1] = 1, dp[2] = 2
3. 可以优化空间复杂度为O(1)，只使用两个变量

关键点:
- 本质是斐波那契数列
- 可以优化空间复杂度为O(1)
- 时间复杂度O(n)，空间复杂度O(1)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 需要计算n个状态
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def climb_stairs(n: int) -> int:
    """
    函数式接口 - 动态规划（空间优化）
    
    实现思路:
    使用动态规划，优化空间复杂度为O(1)，只使用两个变量。
    
    Args:
        n: 楼梯的阶数
        
    Returns:
        爬到楼顶的不同方法数
        
    Example:
        >>> climb_stairs(2)
        2
        >>> climb_stairs(3)
        3
    """
    if n <= 2:
        return n
    
    # 只使用两个变量
    prev2, prev1 = 1, 2
    
    for i in range(3, n + 1):
        current = prev1 + prev2
        prev2, prev1 = prev1, current
    
    return prev1


# 自动生成Solution类（无需手动编写）
Solution = create_solution(climb_stairs)
