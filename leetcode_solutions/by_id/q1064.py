# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1064
标题: Smallest Integer Divisible by K
难度: medium
链接: https://leetcode.cn/problems/smallest-integer-divisible-by-k/
题目类型: 哈希表、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1015. 可被 K 整除的最小整数 - 给定正整数 k ，你需要找出可以被 k 整除的、仅包含数字 1 的最 小 正整数 n 的长度。 返回 n 的长度。如果不存在这样的 n ，就返回-1。 注意： n 可能不符合 64 位带符号整数。 示例 1： 输入：k = 1 输出：1 解释：最小的答案是 n = 1，其长度为 1。 示例 2： 输入：k = 2 输出：-1 解释：不存在可被 2 整除的正整数 n 。 示例 3： 输入：k = 3 输出：3 解释：最小的答案是 n = 111，其长度为 3。 提示： * 1 <= k <= 105
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用模运算和循环来找到最小的由 1 组成且能被 k 整除的数。

算法步骤:
1. 初始化余数 remainder 为 0。
2. 遍历从 1 到 k 的每个数 i，更新 remainder 为 (remainder * 10 + 1) % k。
3. 如果 remainder 为 0，返回当前的 i。
4. 如果遍历完所有数仍未找到，则返回 -1。

关键点:
- 通过模运算避免大数溢出。
- 由于 k 的最大值为 10^5，最多需要 k 次迭代。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(k)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def smallest_integer_divisible_by_k(k: int) -> int:
    """
    函数式接口 - 找到可以被 k 整除的、仅包含数字 1 的最小正整数 n 的长度。
    """
    if k % 2 == 0 or k % 5 == 0:
        return -1

    remainder = 0
    for i in range(1, k + 1):
        remainder = (remainder * 10 + 1) % k
        if remainder == 0:
            return i

    return -1


Solution = create_solution(smallest_integer_divisible_by_k)