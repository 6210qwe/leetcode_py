# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1444
标题: Number of Steps to Reduce a Number to Zero
难度: easy
链接: https://leetcode.cn/problems/number-of-steps-to-reduce-a-number-to-zero/
题目类型: 位运算、数学
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1342. 将数字变成 0 的操作次数 - 给你一个非负整数 num ，请你返回将它变成 0 所需要的步数。 如果当前数字是偶数，你需要把它除以 2 ；否则，减去 1 。 示例 1： 输入：num = 14 输出：6 解释： 步骤 1) 14 是偶数，除以 2 得到 7 。 步骤 2） 7 是奇数，减 1 得到 6 。 步骤 3） 6 是偶数，除以 2 得到 3 。 步骤 4） 3 是奇数，减 1 得到 2 。 步骤 5） 2 是偶数，除以 2 得到 1 。 步骤 6） 1 是奇数，减 1 得到 0 。 示例 2： 输入：num = 8 输出：4 解释： 步骤 1） 8 是偶数，除以 2 得到 4 。 步骤 2） 4 是偶数，除以 2 得到 2 。 步骤 3） 2 是偶数，除以 2 得到 1 。 步骤 4） 1 是奇数，减 1 得到 0 。 示例 3： 输入：num = 123 输出：12 提示： * 0 <= num <= 10^6
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用位运算来减少操作次数。

算法步骤:
1. 初始化步数计数器为 0。
2. 当 num 不为 0 时，进行以下操作：
   - 如果 num 是偶数（即 num & 1 == 0），则将其右移一位（相当于除以 2），步数加 1。
   - 如果 num 是奇数（即 num & 1 == 1），则将其减 1，步数加 1。
3. 返回步数计数器的值。

关键点:
- 使用位运算可以高效地判断奇偶性和进行除以 2 的操作。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(log n)，其中 n 是输入数字 num。因为每次操作都会将 num 减少至少一半。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def number_of_steps(num: int) -> int:
    """
    函数式接口 - 返回将 num 变成 0 所需的操作次数
    """
    steps = 0
    while num > 0:
        if num & 1 == 0:
            num >>= 1  # 相当于 num //= 2
        else:
            num -= 1
        steps += 1
    return steps


Solution = create_solution(number_of_steps)