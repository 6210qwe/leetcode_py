# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1000291
标题: 岛屿的最大面积
难度: medium
链接: https://leetcode.cn/problems/ZL6zAn/
题目类型: 深度优先搜索、广度优先搜索、并查集、数组、矩阵
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
LCR 105. 岛屿的最大面积 - 给定一个由 0 和 1 组成的非空二维数组 grid ，用来表示海洋岛屿地图。 一个 岛屿 是由一些相邻的 1 (代表土地) 构成的组合，这里的「相邻」要求两个 1 必须在水平或者竖直方向上相邻。你可以假设 grid 的四个边缘都被 0（代表水）包围着。 找到给定的二维数组中最大的岛屿面积。如果没有岛屿，则返回面积为 0 。 示例 1： [https://pic.leetcode.cn/1626667010-nSGPXz-image.png] 输入: grid = [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]] 输出: 6 解释: 对于上面这个给定矩阵应返回 6。注意答案不应该是 11 ，因为岛屿只能包含水平或垂直的四个方向的 1 。 示例 2： 输入: grid = [[0,0,0,0,0,0,0,0]] 输出: 0 提示： * m == grid.length * n == grid[i].length * 1 <= m, n <= 50 * grid[i][j] is either 0 or 1 注意：本题与主站 695 题相同： https://leetcode.cn/problems/max-area-of-island/ [https://leetcode.cn/problems/max-area-of-island/]
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用深度优先搜索 (DFS) 来遍历每个岛屿，并计算其面积。

算法步骤:
1. 初始化最大面积为 0。
2. 遍历整个网格，对于每个未访问过的陆地 (1)，使用 DFS 计算该岛屿的面积。
3. 更新最大面积。
4. 返回最大面积。

关键点:
- 使用递归的 DFS 来遍历岛屿。
- 在遍历时将访问过的陆地标记为 0，避免重复访问。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(m * n)，其中 m 和 n 分别是网格的行数和列数。每个单元格最多访问一次。
空间复杂度: O(m * n)，最坏情况下递归栈的深度为 m * n。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def max_area_of_island(grid: List[List[int]]) -> int:
    def dfs(x: int, y: int) -> int:
        if x < 0 or x >= len(grid) or y < 0 or y >= len(grid[0]) or grid[x][y] == 0:
            return 0
        grid[x][y] = 0  # 标记为已访问
        area = 1
        for dx, dy in [(0, 1), (0, -1), (1, 0), (-1, 0)]:
            area += dfs(x + dx, y + dy)
        return area

    max_area = 0
    for i in range(len(grid)):
        for j in range(len(grid[0])):
            if grid[i][j] == 1:
                max_area = max(max_area, dfs(i, j))
    return max_area

Solution = create_solution(max_area_of_island)