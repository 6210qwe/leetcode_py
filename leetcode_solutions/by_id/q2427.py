# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2427
标题: First Letter to Appear Twice
难度: easy
链接: https://leetcode.cn/problems/first-letter-to-appear-twice/
题目类型: 位运算、哈希表、字符串、计数
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2351. 第一个出现两次的字母 - 给你一个由小写英文字母组成的字符串 s ，请你找出并返回第一个出现 两次 的字母。 注意： * 如果 a 的 第二次 出现比 b 的 第二次 出现在字符串中的位置更靠前，则认为字母 a 在字母 b 之前出现两次。 * s 包含至少一个出现两次的字母。 示例 1： 输入：s = "abccbaacz" 输出："c" 解释： 字母 'a' 在下标 0 、5 和 6 处出现。 字母 'b' 在下标 1 和 4 处出现。 字母 'c' 在下标 2 、3 和 7 处出现。 字母 'z' 在下标 8 处出现。 字母 'c' 是第一个出现两次的字母，因为在所有字母中，'c' 第二次出现的下标是最小的。 示例 2： 输入：s = "abcdd" 输出："d" 解释： 只有字母 'd' 出现两次，所以返回 'd' 。 提示： * 2 <= s.length <= 100 * s 由小写英文字母组成 * s 包含至少一个重复字母
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用哈希表记录每个字符的出现次数，一旦某个字符出现两次，立即返回该字符。

算法步骤:
1. 初始化一个空的哈希表。
2. 遍历字符串 s 中的每个字符。
3. 对于每个字符，检查其是否已经在哈希表中：
   - 如果是，则返回该字符。
   - 如果不是，则将其加入哈希表，并设置其计数为 1。
4. 由于题目保证至少有一个重复字符，因此一定会在遍历过程中找到答案。

关键点:
- 使用哈希表可以在 O(1) 时间内检查和更新字符的出现次数。
- 由于字符串长度有限（最多 100），哈希表的空间复杂度也是常数级别的。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 s 的长度。我们只需要遍历一次字符串。
空间复杂度: O(1)，因为哈希表的大小最多为 26（小写字母的数量）。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def first_letter_to_appear_twice(s: str) -> str:
    """
    找到第一个出现两次的字母。
    """
    char_count = {}
    for char in s:
        if char in char_count:
            return char
        char_count[char] = 1
    return ""  # 这一行不会被执行，因为题目保证至少有一个重复字符


Solution = create_solution(first_letter_to_appear_twice)