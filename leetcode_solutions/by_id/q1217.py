# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1217
标题: Relative Sort Array
难度: easy
链接: https://leetcode.cn/problems/relative-sort-array/
题目类型: 数组、哈希表、计数排序、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1122. 数组的相对排序 - 给你两个数组，arr1 和 arr2，arr2 中的元素各不相同，arr2 中的每个元素都出现在 arr1 中。 对 arr1 中的元素进行排序，使 arr1 中项的相对顺序和 arr2 中的相对顺序相同。未在 arr2 中出现过的元素需要按照升序放在 arr1 的末尾。 示例 1： 输入：arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6] 输出：[2,2,2,1,4,3,3,9,6,7,19] 示例 2: 输入：arr1 = [28,6,22,8,44,17], arr2 = [22,28,8,6] 输出：[22,28,8,6,17,44] 提示： * 1 <= arr1.length, arr2.length <= 1000 * 0 <= arr1[i], arr2[i] <= 1000 * arr2 中的元素 arr2[i] 各不相同 * arr2 中的每个元素 arr2[i] 都出现在 arr1 中
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用计数排序来实现相对排序

算法步骤:
1. 创建一个计数数组 `count`，统计 `arr1` 中每个元素的出现次数。
2. 按照 `arr2` 中的顺序，将 `arr2` 中的元素依次从 `count` 中取出并放入结果数组 `result`。
3. 将 `arr1` 中不在 `arr2` 中的元素按升序放入结果数组 `result`。

关键点:
- 使用计数数组来统计 `arr1` 中每个元素的出现次数。
- 按照 `arr2` 的顺序处理 `arr1` 中的元素。
- 最后处理 `arr1` 中不在 `arr2` 中的元素。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + m)，其中 n 是 `arr1` 的长度，m 是 `arr2` 的长度。
空间复杂度: O(k)，其中 k 是 `arr1` 中元素的取值范围（最大为 1001）。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def relative_sort_array(arr1: List[int], arr2: List[int]) -> List[int]:
    """
    函数式接口 - 实现相对排序
    """
    # 创建计数数组
    count = [0] * 1001
    for num in arr1:
        count[num] += 1
    
    result = []
    # 按照 arr2 的顺序处理 arr1 中的元素
    for num in arr2:
        while count[num] > 0:
            result.append(num)
            count[num] -= 1
    
    # 处理 arr1 中不在 arr2 中的元素
    for i in range(1001):
        while count[i] > 0:
            result.append(i)
            count[i] -= 1
    
    return result


Solution = create_solution(relative_sort_array)