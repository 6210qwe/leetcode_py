# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1000275
标题: 字母异位词分组
难度: medium
链接: https://leetcode.cn/problems/sfvd7V/
题目类型: 数组、哈希表、字符串、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
LCR 033. 字母异位词分组 - 给定一个字符串数组 strs ，将 变位词 组合在一起。 可以按任意顺序返回结果列表。 注意：若两个字符串中每个字符出现的次数都相同，则称它们互为变位词。 示例 1： 输入: strs = ["eat", "tea", "tan", "ate", "nat", "bat"] 输出: [["bat"],["nat","tan"],["ate","eat","tea"]] 示例 2： 输入: strs = [""] 输出: [[""]] 示例 3： 输入: strs = ["a"] 输出: [["a"]] 提示： * 1 <= strs.length <= 104 * 0 <= strs[i].length <= 100 * strs[i] 仅包含小写字母 注意：本题与主站 49 题相同： https://leetcode.cn/problems/group-anagrams/ [https://leetcode.cn/problems/group-anagrams/]
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用哈希表来存储每个变位词的键值对，其中键是排序后的字符串，值是变位词的列表。

算法步骤:
1. 初始化一个空的字典 `anagrams`。
2. 遍历输入的字符串数组 `strs`，对于每个字符串 `s`：
   - 将字符串 `s` 排序得到一个排序后的字符串 `sorted_s`。
   - 如果 `sorted_s` 不在字典 `anagrams` 中，将其作为新的键，并将 `s` 作为值放入列表中。
   - 如果 `sorted_s` 已经在字典 `anagrams` 中，将 `s` 添加到对应的列表中。
3. 返回字典 `anagrams` 的所有值。

关键点:
- 使用排序后的字符串作为键，可以确保所有变位词具有相同的键。
- 使用哈希表来存储变位词，可以高效地进行查找和插入操作。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n * k log k)，其中 n 是字符串数组的长度，k 是字符串的最大长度。排序每个字符串的时间复杂度是 O(k log k)。
空间复杂度: O(n * k)，用于存储哈希表中的所有字符串。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def group_anagrams(strs: List[str]) -> List[List[str]]:
    """
    函数式接口 - 将变位词组合在一起
    """
    anagrams = {}
    for s in strs:
        sorted_s = ''.join(sorted(s))
        if sorted_s not in anagrams:
            anagrams[sorted_s] = []
        anagrams[sorted_s].append(s)
    return list(anagrams.values())


Solution = create_solution(group_anagrams)