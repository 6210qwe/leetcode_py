# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 387
标题: First Unique Character in a String
难度: easy
链接: https://leetcode.cn/problems/first-unique-character-in-a-string/
题目类型: 队列、哈希表、字符串、计数
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
387. 字符串中的第一个唯一字符 - 给定一个字符串 s ，找到 它的第一个不重复的字符，并返回它的索引 。如果不存在，则返回 -1 。 示例 1： 输入: s = "leetcode" 输出: 0 示例 2: 输入: s = "loveleetcode" 输出: 2 示例 3: 输入: s = "aabb" 输出: -1 提示: * 1 <= s.length <= 105 * s 只包含小写字母
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 哈希表统计字符出现次数

算法步骤:
1. 第一次遍历统计每个字符出现次数
2. 第二次遍历找到第一个出现次数为1的字符
3. 返回其索引，如果不存在返回-1

关键点:
- 使用Counter统计字符出现次数
- 按顺序遍历找到第一个唯一字符
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 两次遍历字符串
空间复杂度: O(1) - 最多26个字母
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from collections import Counter
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def first_uniq_char(s: str) -> int:
    """
    函数式接口 - 字符串中的第一个唯一字符
    
    实现思路:
    统计字符出现次数，然后按顺序找到第一个唯一字符。
    
    Args:
        s: 输入字符串
        
    Returns:
        第一个唯一字符的索引，不存在返回-1
        
    Example:
        >>> first_uniq_char("leetcode")
        0
    """
    count = Counter(s)
    
    for i, char in enumerate(s):
        if count[char] == 1:
            return i
    
    return -1


# 自动生成Solution类（无需手动编写）
Solution = create_solution(first_uniq_char)
