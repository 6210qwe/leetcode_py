# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 43
标题: Multiply Strings
难度: medium
链接: https://leetcode.cn/problems/multiply-strings/
题目类型: 数学、字符串、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
43. 字符串相乘 - 给定两个以字符串形式表示的非负整数 num1 和 num2，返回 num1 和 num2 的乘积，它们的乘积也表示为字符串形式。 注意：不能使用任何内置的 BigInteger 库或直接将输入转换为整数。 示例 1: 输入: num1 = "2", num2 = "3" 输出: "6" 示例 2: 输入: num1 = "123", num2 = "456" 输出: "56088" 提示： * 1 <= num1.length, num2.length <= 200 * num1 和 num2 只能由数字组成。 * num1 和 num2 都不包含任何前导零，除了数字0本身。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 模拟竖式乘法，使用数组存储结果，处理进位

算法步骤:
1. 创建结果数组，长度为m+n
2. 从右到左遍历两个字符串，计算每一位的乘积
3. 将乘积加到结果数组的对应位置
4. 处理进位，转换为字符串

关键点:
- 模拟竖式乘法
- 时间复杂度O(m*n)，空间复杂度O(m+n)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(m*n) - m和n为两个字符串的长度
空间复杂度: O(m+n) - 结果数组空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from leetcode_solutions.utils.solution import create_solution


def multiply_strings(num1: str, num2: str) -> str:
    """
    函数式接口 - 字符串相乘
    
    实现思路:
    模拟竖式乘法，使用数组存储结果，处理进位。
    
    Args:
        num1: 第一个非负整数字符串
        num2: 第二个非负整数字符串
        
    Returns:
        乘积的字符串形式
        
    Example:
        >>> multiply_strings("123", "456")
        '56088'
    """
    if num1 == "0" or num2 == "0":
        return "0"
    
    m, n = len(num1), len(num2)
    result = [0] * (m + n)
    
    # 从右到左计算每一位的乘积
    for i in range(m - 1, -1, -1):
        for j in range(n - 1, -1, -1):
            mul = int(num1[i]) * int(num2[j])
            p1, p2 = i + j, i + j + 1
            total = mul + result[p2]
            
            result[p2] = total % 10
            result[p1] += total // 10
    
    # 转换为字符串，去除前导零
    start = 0
    while start < len(result) and result[start] == 0:
        start += 1
    
    return ''.join(str(x) for x in result[start:])


# 自动生成Solution类（无需手动编写）
Solution = create_solution(multiply_strings)
