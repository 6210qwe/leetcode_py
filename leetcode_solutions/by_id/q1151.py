# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1151
标题: Stepping Numbers
难度: medium
链接: https://leetcode.cn/problems/stepping-numbers/
题目类型: 广度优先搜索、数学、回溯
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1215. 步进数 - 备战技术面试？力扣提供海量技术面试资源，帮助你高效提升编程技能,轻松拿下世界 IT 名企 Dream Offer。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用广度优先搜索（BFS）来生成步进数。从给定的低值开始，逐层扩展，直到达到高值。

算法步骤:
1. 初始化一个队列，将所有可能的起始数字（0到9）加入队列。
2. 使用一个集合来存储已经访问过的数字，避免重复计算。
3. 从队列中取出一个数字，检查它是否在给定范围内，如果是，则将其加入结果列表。
4. 对于当前数字的每一位，生成新的步进数，并将其加入队列。
5. 重复上述步骤，直到队列为空。

关键点:
- 使用BFS可以确保按顺序生成步进数。
- 通过集合记录已访问的数字，避免重复计算。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(2^n)，其中n是数字的位数。每个数字最多有两位相邻的数字可以选择。
空间复杂度: O(2^n)，队列和集合的空间复杂度。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from collections import deque

def countSteppingNumbers(low: int, high: int) -> List[int]:
    """
    函数式接口 - 返回在给定范围 [low, high] 内的所有步进数
    """
    result = []
    if low == 0:
        result.append(0)
    
    queue = deque(range(1, 10))
    
    while queue:
        num = queue.popleft()
        if low <= num <= high:
            result.append(num)
        
        if num * 10 + (num % 10) + 1 <= high and num % 10 < 9:
            queue.append(num * 10 + (num % 10) + 1)
        
        if num * 10 + (num % 10) - 1 >= low and num % 10 > 0:
            queue.append(num * 10 + (num % 10) - 1)
    
    return result

Solution = create_solution(countSteppingNumbers)