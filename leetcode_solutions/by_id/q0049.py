# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 49
标题: Group Anagrams
难度: medium
链接: https://leetcode.cn/problems/group-anagrams/
题目类型: 数组、哈希表、字符串、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
49. 字母异位词分组 - 给你一个字符串数组，请你将 字母异位词 组合在一起。可以按任意顺序返回结果列表。 示例 1: 输入: strs = ["eat", "tea", "tan", "ate", "nat", "bat"] 输出: [["bat"],["nat","tan"],["ate","eat","tea"]] 解释： * 在 strs 中没有字符串可以通过重新排列来形成 "bat"。 * 字符串 "nat" 和 "tan" 是字母异位词，因为它们可以重新排列以形成彼此。 * 字符串 "ate" ，"eat" 和 "tea" 是字母异位词，因为它们可以重新排列以形成彼此。 示例 2: 输入: strs = [""] 输出: [[""]] 示例 3: 输入: strs = ["a"] 输出: [["a"]] 提示： * 1 <= strs.length <= 104 * 0 <= strs[i].length <= 100 * strs[i] 仅包含小写字母
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用排序后的字符串作为键，将字母异位词分组

算法步骤:
1. 对每个字符串排序，作为哈希表的键
2. 将相同键的字符串放入同一个列表
3. 返回所有分组

关键点:
- 使用排序后的字符串作为键
- 时间复杂度O(n*k*logk)，空间复杂度O(n*k)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n*k*logk) - n为字符串数量，k为字符串平均长度
空间复杂度: O(n*k) - 哈希表空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from collections import defaultdict
from leetcode_solutions.utils.solution import create_solution


def group_anagrams(strs: List[str]) -> List[List[str]]:
    """
    函数式接口 - 字母异位词分组
    
    实现思路:
    使用排序后的字符串作为键，将字母异位词分组。
    
    Args:
        strs: 字符串数组
        
    Returns:
        字母异位词分组列表
        
    Example:
        >>> group_anagrams(["eat","tea","tan","ate","nat","bat"])
        [['eat', 'tea', 'ate'], ['tan', 'nat'], ['bat']]
    """
    groups = defaultdict(list)
    
    for s in strs:
        key = ''.join(sorted(s))
        groups[key].append(s)
    
    return list(groups.values())


# 自动生成Solution类（无需手动编写）
Solution = create_solution(group_anagrams)
