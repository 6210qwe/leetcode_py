# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 100186
标题: Zero Matrix LCCI
难度: medium
链接: https://leetcode.cn/problems/zero-matrix-lcci/
题目类型: 数组、哈希表、矩阵
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
面试题 01.08. 零矩阵 - 编写一种算法，若M × N矩阵中某个元素为0，则将其所在的行与列清零。 示例 1： 输入： [ [1,1,1], [1,0,1], [1,1,1] ] 输出： [ [1,0,1], [0,0,0], [1,0,1] ] 示例 2： 输入： [ [0,1,2,0], [3,4,5,2], [1,3,1,5] ] 输出： [ [0,0,0,0], [0,4,5,0], [0,3,1,0] ]
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用两个集合分别记录需要清零的行和列。

算法步骤:
1. 遍历矩阵，记录所有包含0的行和列。
2. 根据记录的行和列，将对应的行和列清零。

关键点:
- 使用集合来存储需要清零的行和列，避免重复遍历。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(M * N)，其中M是矩阵的行数，N是矩阵的列数。我们需要遍历整个矩阵两次。
空间复杂度: O(M + N)，用于存储需要清零的行和列。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def set_zeroes(matrix: List[List[int]]) -> None:
    """
    函数式接口 - 将矩阵中包含0的行和列清零
    """
    if not matrix or not matrix[0]:
        return

    rows, cols = len(matrix), len(matrix[0])
    zero_rows = set()
    zero_cols = set()

    # 记录需要清零的行和列
    for i in range(rows):
        for j in range(cols):
            if matrix[i][j] == 0:
                zero_rows.add(i)
                zero_cols.add(j)

    # 清零行
    for row in zero_rows:
        for j in range(cols):
            matrix[row][j] = 0

    # 清零列
    for col in zero_cols:
        for i in range(rows):
            matrix[i][col] = 0


Solution = create_solution(set_zeroes)