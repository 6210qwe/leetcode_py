# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 11
标题: Container With Most Water
难度: medium
链接: https://leetcode.cn/problems/container-with-most-water/
题目类型: 贪心、数组、双指针
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
11. 盛最多水的容器 - 给定一个长度为 n 的整数数组 height 。有 n 条垂线，第 i 条线的两个端点是 (i, 0) 和 (i, height[i]) 。 找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。 返回容器可以储存的最大水量。 说明：你不能倾斜容器。 示例 1： [https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg] 输入：[1,8,6,2,5,4,8,3,7] 输出：49 解释：图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。 示例 2： 输入：height = [1,1] 输出：1 提示： * n == height.length * 2 <= n <= 105 * 0 <= height[i] <= 104
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 双指针法，从两端向中间移动，每次移动较短的边

算法步骤:
1. 使用left和right两个指针分别指向数组的两端
2. 计算当前容器的面积：min(height[left], height[right]) * (right - left)
3. 更新最大面积
4. 移动较短的边（因为移动较长的边不会增加面积）
5. 重复步骤2-4直到两个指针相遇

关键点:
- 贪心策略：总是移动较短的边，因为容器的面积由较短的边决定
- 移动较长的边不会增加面积，因为宽度减小而高度不会增加
- 时间复杂度O(n)，空间复杂度O(1)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 只需遍历数组一次，n为数组长度
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from leetcode_solutions.utils.solution import create_solution


def max_area(height: List[int]) -> int:
    """
    函数式接口 - 双指针法实现
    
    实现思路:
    使用双指针从两端向中间移动，每次移动较短的边，计算并更新最大面积。
    
    Args:
        height: 高度数组
        
    Returns:
        可以容纳的最大水量
        
    Example:
        >>> max_area([1,8,6,2,5,4,8,3,7])
        49
        >>> max_area([1,1])
        1
    """
    left, right = 0, len(height) - 1
    max_water = 0
    
    while left < right:
        # 计算当前容器的面积
        width = right - left
        current_area = min(height[left], height[right]) * width
        max_water = max(max_water, current_area)
        
        # 移动较短的边
        if height[left] < height[right]:
            left += 1
        else:
            right -= 1
    
    return max_water


# 自动生成Solution类（无需手动编写）
Solution = create_solution(max_area)
