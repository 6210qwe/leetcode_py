# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1930
标题: Maximum Number of Consecutive Values You Can Make
难度: medium
链接: https://leetcode.cn/problems/maximum-number-of-consecutive-values-you-can-make/
题目类型: 贪心、数组、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1798. 你能构造出连续值的最大数目 - 给你一个长度为 n 的整数数组 coins ，它代表你拥有的 n 个硬币。第 i 个硬币的值为 coins[i] 。如果你从这些硬币中选出一部分硬币，它们的和为 x ，那么称，你可以 构造 出 x 。 请返回从 0 开始（包括 0 ），你最多能 构造 出多少个连续整数。 你可能有多个相同值的硬币。 示例 1： 输入：coins = [1,3] 输出：2 解释：你可以得到以下这些值： - 0：什么都不取 [] - 1：取 [1] 从 0 开始，你可以构造出 2 个连续整数。 示例 2： 输入：coins = [1,1,1,4] 输出：8 解释：你可以得到以下这些值： - 0：什么都不取 [] - 1：取 [1] - 2：取 [1,1] - 3：取 [1,1,1] - 4：取 [4] - 5：取 [4,1] - 6：取 [4,1,1] - 7：取 [4,1,1,1] 从 0 开始，你可以构造出 8 个连续整数。 示例 3： 输入：nums = [1,4,10,3,1] 输出：20 提示： * coins.length == n * 1 <= n <= 4 * 104 * 1 <= coins[i] <= 4 * 104
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用贪心算法，通过排序和累加的方式确定可以构造的最大连续整数。

算法步骤:
1. 对硬币数组进行排序。
2. 初始化一个变量 `max_reachable` 为 0，表示当前可以构造的最大连续整数。
3. 遍历排序后的硬币数组：
   - 如果当前硬币的值大于 `max_reachable + 1`，则无法构造 `max_reachable + 1`，返回 `max_reachable + 1`。
   - 否则，将当前硬币的值加到 `max_reachable` 上。
4. 遍历结束后，返回 `max_reachable + 1`。

关键点:
- 通过排序和累加的方式，确保每次都能尽可能多地扩展可以构造的连续整数范围。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n)，其中 n 是硬币数组的长度，主要由排序操作决定。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def max_consecutive_values(coins: List[int]) -> int:
    """
    返回从 0 开始（包括 0 ），最多能构造出多少个连续整数。
    """
    # 对硬币数组进行排序
    coins.sort()
    
    # 初始化可以构造的最大连续整数
    max_reachable = 0
    
    for coin in coins:
        if coin > max_reachable + 1:
            break
        max_reachable += coin
    
    return max_reachable + 1

Solution = create_solution(max_consecutive_values)