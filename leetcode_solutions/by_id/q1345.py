# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1345
标题: Perform String Shifts
难度: easy
链接: https://leetcode.cn/problems/perform-string-shifts/
题目类型: 数组、数学、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
给定一个字符串 s 和一个移位数组 shift，其中 shift[i] = [direction, amount] 表示将 s 的字符向左或向右移动 amount 个位置。方向为 0 表示左移，1 表示右移。
所有移位操作按顺序依次执行。
返回最终的字符串。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过计算总移位量来简化多次移位操作。

算法步骤:
1. 初始化左移和右移的总步数。
2. 遍历移位数组，根据方向累加左移或右移的步数。
3. 计算最终的净移位量（左移步数 - 右移步数）。
4. 根据净移位量对字符串进行一次移位操作。

关键点:
- 通过模运算处理移位超出字符串长度的情况。
- 使用切片操作简化字符串移位。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + m)，其中 n 是字符串的长度，m 是移位数组的长度。
空间复杂度: O(n)，用于存储最终的字符串结果。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def perform_string_shifts(s: str, shift: List[List[int]]) -> str:
    """
    函数式接口 - 执行字符串移位
    """
    left_shift = 0
    right_shift = 0
    
    # 计算总的左移和右移步数
    for direction, amount in shift:
        if direction == 0:
            left_shift += amount
        else:
            right_shift += amount
    
    # 计算净移位量
    net_shift = (right_shift - left_shift) % len(s)
    
    # 根据净移位量对字符串进行移位
    return s[-net_shift:] + s[:-net_shift]

Solution = create_solution(perform_string_shifts)