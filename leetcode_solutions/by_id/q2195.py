# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2195
标题: Time Needed to Buy Tickets
难度: easy
链接: https://leetcode.cn/problems/time-needed-to-buy-tickets/
题目类型: 队列、数组、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2073. 买票需要的时间 - 有 n 个人前来排队买票，其中第 0 人站在队伍 最前方 ，第 (n - 1) 人站在队伍 最后方 。 给你一个下标从 0 开始的整数数组 tickets ，数组长度为 n ，其中第 i 人想要购买的票数为 tickets[i] 。 每个人买票都需要用掉 恰好 1 秒 。一个人 一次只能买一张票 ，如果需要购买更多票，他必须走到 队尾 重新排队（瞬间 发生，不计时间）。如果一个人没有剩下需要买的票，那他将会 离开 队伍。 返回位于位置 k（下标从 0 开始）的人完成买票需要的时间（以秒为单位）。 示例 1： 输入：tickets = [2,3,2], k = 2 输出：6 解释： * 队伍一开始为 [2,3,2]，第 k 个人以下划线标识。 * 在最前面的人买完票后，队伍在第 1 秒变成 [3,2,1]。 * 继续这个过程，队伍在第 2 秒变为[2,1,2]。 * 继续这个过程，队伍在第 3 秒变为[1,2,1]。 * 继续这个过程，队伍在第 4 秒变为[2,1]。 * 继续这个过程，队伍在第 5 秒变为[1,1]。 * 继续这个过程，队伍在第 6 秒变为[1]。第 k 个人完成买票，所以返回 6。 示例 2： 输入：tickets = [5,1,1,1], k = 0 输出：8 解释： * 队伍一开始为 [5,1,1,1]，第 k 个人以下划线标识。 * 在最前面的人买完票后，队伍在第 1 秒变成 [1,1,1,4]。 * 继续这个过程 3 秒，队伍在第 4 秒变为[4]。 * 继续这个过程 4 秒，队伍在第 8 秒变为[]。第 k 个人完成买票，所以返回 8。 提示： * n == tickets.length * 1 <= n <= 100 * 1 <= tickets[i] <= 100 * 0 <= k < n
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过模拟每个人买票的过程来计算第 k 个人完成买票所需的时间。

算法步骤:
1. 初始化总时间为 0。
2. 遍历队列中的每个人，直到第 k 个人完成买票：
   - 如果当前人的票数大于 0，则总时间加 1，并将当前人的票数减 1。
   - 如果当前人的票数为 0，则跳过该人。
   - 如果当前人是第 k 个人且票数为 0，则停止遍历。
3. 返回总时间。

关键点:
- 通过遍历队列并模拟每个人买票的过程来计算时间。
- 只需关注第 k 个人及其之前的票数，因为之后的人不会影响第 k 个人的买票时间。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n * t)，其中 n 是队列中的人数，t 是第 k 个人需要买的票数。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def time_needed_to_buy_tickets(tickets: List[int], k: int) -> int:
    """
    计算第 k 个人完成买票所需的时间。
    
    :param tickets: 一个整数数组，表示每个人需要买的票数。
    :param k: 第 k 个人的索引。
    :return: 第 k 个人完成买票所需的时间（以秒为单位）。
    """
    time = 0
    while tickets[k] > 0:
        for i in range(len(tickets)):
            if tickets[i] > 0:
                tickets[i] -= 1
                time += 1
            if i == k and tickets[k] == 0:
                break
    return time

Solution = create_solution(time_needed_to_buy_tickets)