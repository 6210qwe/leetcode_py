# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3241
标题: Divide Array Into Arrays With Max Difference
难度: medium
链接: https://leetcode.cn/problems/divide-array-into-arrays-with-max-difference/
题目类型: 贪心、数组、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2966. 划分数组并满足最大差限制 - 给你一个长度为 n 的整数数组 nums，以及一个正整数 k 。 将这个数组划分为 n / 3 个长度为 3 的子数组，并满足以下条件： * 子数组中 任意 两个元素的差必须 小于或等于 k 。 返回一个 二维数组 ，包含所有的子数组。如果不可能满足条件，就返回一个空数组。如果有多个答案，返回 任意一个 即可。 示例 1： 输入：nums = [1,3,4,8,7,9,3,5,1], k = 2 输出：[[1,1,3],[3,4,5],[7,8,9]] 解释： 每个数组中任何两个元素之间的差小于或等于 2。 示例 2： 输入：nums = [2,4,2,2,5,2], k = 2 输出：[] 解释： 将 nums 划分为 2 个长度为 3 的数组的不同方式有： * [[2,2,2],[2,4,5]] （及其排列） * [[2,2,4],[2,2,5]] （及其排列） 因为有四个 2，所以无论我们如何划分，都会有一个包含元素 2 和 5 的数组。因为 5 - 2 = 3 > k，条件无法被满足，所以没有合法的划分。 示例 3： 输入：nums = [4,2,9,8,2,12,7,12,10,5,8,5,5,7,9,2,5,11], k = 14 输出：[[2,2,2],[4,5,5],[5,5,7],[7,8,8],[9,9,10],[11,12,12]] 解释： 每个数组中任何两个元素之间的差小于或等于 14。 提示： * n == nums.length * 1 <= n <= 105 * n 是 3 的倍数 * 1 <= nums[i] <= 105 * 1 <= k <= 105
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过排序和贪心算法来划分数组，确保每个子数组中的元素差不超过 k。

算法步骤:
1. 对数组进行排序。
2. 遍历排序后的数组，每次取三个连续的元素组成一个子数组。
3. 检查每个子数组中的最大差值是否超过 k，如果超过则返回空数组。
4. 如果所有子数组都满足条件，则返回这些子数组。

关键点:
- 排序后，相邻的三个元素组成的子数组更容易满足差值条件。
- 通过贪心算法，每次取三个连续的元素，确保子数组的数量尽可能多。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n) - 主要由排序操作决定。
空间复杂度: O(1) - 除了输入和输出外，不需要额外的空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def divide_array(nums: List[int], k: int) -> List[List[int]]:
    """
    将数组划分为 n / 3 个长度为 3 的子数组，并满足每个子数组中任意两个元素的差不大于 k。
    """
    # 对数组进行排序
    nums.sort()
    
    # 结果列表
    result = []
    
    # 遍历排序后的数组，每次取三个连续的元素
    for i in range(0, len(nums), 3):
        if i + 2 < len(nums):
            # 检查子数组中的最大差值是否超过 k
            if nums[i + 2] - nums[i] > k:
                return []
            result.append([nums[i], nums[i + 1], nums[i + 2]])
    
    return result

Solution = create_solution(divide_array)