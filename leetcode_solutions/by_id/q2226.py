# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2226
标题: Rings and Rods
难度: easy
链接: https://leetcode.cn/problems/rings-and-rods/
题目类型: 哈希表、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2103. 环和杆 - 总计有 n 个环，环的颜色可以是红、绿、蓝中的一种。这些环分别穿在 10 根编号为 0 到 9 的杆上。 给你一个长度为 2n 的字符串 rings ，表示这 n 个环在杆上的分布。rings 中每两个字符形成一个 颜色位置对 ，用于描述每个环： * 第 i 对中的 第一个 字符表示第 i 个环的 颜色（'R'、'G'、'B'）。 * 第 i 对中的 第二个 字符表示第 i 个环的 位置，也就是位于哪根杆上（'0' 到 '9'）。 例如，"R3G2B1" 表示：共有 n == 3 个环，红色的环在编号为 3 的杆上，绿色的环在编号为 2 的杆上，蓝色的环在编号为 1 的杆上。 找出所有集齐 全部三种颜色 环的杆，并返回这种杆的数量。 示例 1： [https://assets.leetcode.com/uploads/2021/11/23/ex1final.png] 输入：rings = "B0B6G0R6R0R6G9" 输出：1 解释： - 编号 0 的杆上有 3 个环，集齐全部颜色：红、绿、蓝。 - 编号 6 的杆上有 3 个环，但只有红、蓝两种颜色。 - 编号 9 的杆上只有 1 个绿色环。 因此，集齐全部三种颜色环的杆的数目为 1 。 示例 2： [https://assets.leetcode.com/uploads/2021/11/23/ex2final.png] 输入：rings = "B0R0G0R9R0B0G0" 输出：1 解释： - 编号 0 的杆上有 6 个环，集齐全部颜色：红、绿、蓝。 - 编号 9 的杆上只有 1 个红色环。 因此，集齐全部三种颜色环的杆的数目为 1 。 示例 3： 输入：rings = "G4" 输出：0 解释： 只给了一个环，因此，不存在集齐全部三种颜色环的杆。 提示： * rings.length == 2 * n * 1 <= n <= 100 * 如 i 是 偶数 ，则 rings[i] 的值可以取 'R'、'G' 或 'B'（下标从 0 开始计数） * 如 i 是 奇数 ，则 rings[i] 的值可以取 '0' 到 '9' 中的一个数字（下标从 0 开始计数）
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用哈希表记录每根杆上的环的颜色，然后遍历哈希表，统计集齐三种颜色的杆的数量。

算法步骤:
1. 初始化一个字典，键为杆的编号，值为一个集合，用于存储该杆上的环的颜色。
2. 遍历输入字符串，将每个环的颜色和对应的杆编号存入字典。
3. 遍历字典，统计值为包含三种颜色的集合的键的数量。

关键点:
- 使用集合来存储每根杆上的环的颜色，方便检查是否集齐三种颜色。
- 字典的键为杆的编号，值为一个集合，这样可以避免重复存储相同的颜色。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是环的数量。我们需要遍历输入字符串一次。
空间复杂度: O(1)，因为杆的数量固定为 10，所以字典的大小也是固定的。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def count_points(rings: str) -> int:
    """
    函数式接口 - 计算集齐全部三种颜色环的杆的数量
    """
    # 初始化一个字典，键为杆的编号，值为一个集合，用于存储该杆上的环的颜色
    rod_colors = {str(i): set() for i in range(10)}
    
    # 遍历输入字符串，将每个环的颜色和对应的杆编号存入字典
    for i in range(0, len(rings), 2):
        color = rings[i]
        rod = rings[i + 1]
        rod_colors[rod].add(color)
    
    # 遍历字典，统计值为包含三种颜色的集合的键的数量
    count = 0
    for colors in rod_colors.values():
        if {'R', 'G', 'B'}.issubset(colors):
            count += 1
    
    return count


Solution = create_solution(count_points)