# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2277
标题: Count Equal and Divisible Pairs in an Array
难度: easy
链接: https://leetcode.cn/problems/count-equal-and-divisible-pairs-in-an-array/
题目类型: 数组
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2176. 统计数组中相等且可以被整除的数对 - 给你一个下标从 0 开始长度为 n 的整数数组 nums 和一个整数 k ，请你返回满足 0 <= i < j < n ，nums[i] == nums[j] 且 (i * j) 能被 k 整除的数对 (i, j) 的 数目 。 示例 1： 输入：nums = [3,1,2,2,2,1,3], k = 2 输出：4 解释： 总共有 4 对数符合所有要求： - nums[0] == nums[6] 且 0 * 6 == 0 ，能被 2 整除。 - nums[2] == nums[3] 且 2 * 3 == 6 ，能被 2 整除。 - nums[2] == nums[4] 且 2 * 4 == 8 ，能被 2 整除。 - nums[3] == nums[4] 且 3 * 4 == 12 ，能被 2 整除。 示例 2： 输入：nums = [1,2,3,4], k = 1 输出：0 解释：由于数组中没有重复数值，所以没有数对 (i,j) 符合所有要求。 提示： * 1 <= nums.length <= 100 * 1 <= nums[i], k <= 100
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双重循环遍历数组，检查每一对 (i, j) 是否满足条件。

算法步骤:
1. 初始化计数器 count 为 0。
2. 使用双重循环遍历数组，外层循环 i 从 0 到 n-2，内层循环 j 从 i+1 到 n-1。
3. 检查 nums[i] 是否等于 nums[j] 且 (i * j) % k 是否等于 0。
4. 如果满足条件，将计数器 count 加 1。
5. 返回计数器 count 的值。

关键点:
- 使用双重循环遍历所有可能的 (i, j) 对。
- 检查每个 (i, j) 对是否满足条件。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n^2)，其中 n 是数组的长度。因为我们需要遍历所有可能的 (i, j) 对。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def count_equal_and_divisible_pairs(nums: List[int], k: int) -> int:
    """
    函数式接口 - 统计数组中相等且可以被整除的数对
    """
    count = 0
    n = len(nums)
    
    for i in range(n):
        for j in range(i + 1, n):
            if nums[i] == nums[j] and (i * j) % k == 0:
                count += 1
    
    return count


Solution = create_solution(count_equal_and_divisible_pairs)