# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 194
标题: Transpose File
难度: medium
链接: https://leetcode.cn/problems/transpose-file/
题目类型: Shell
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
194. 转置文件 - 给定一个文件 file.txt，转置它的内容。 你可以假设每行列数相同，并且每个字段由 ' ' 分隔。 示例： 假设 file.txt 文件内容如下： name age alice 21 ryan 30 应当输出： name alice ryan age 21 30
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: Bash脚本，使用awk转置文件内容

算法步骤:
1. 使用awk读取文件，将每列存储到数组中
2. 遍历数组，按行输出转置后的内容

关键点:
- 使用awk转置文件
- Shell脚本
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n*m) - n和m分别是行数和列数
空间复杂度: O(n*m) - 存储转置后的内容
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def transpose_file():
    """
    函数式接口 - 转置文件（Bash脚本）
    
    实现思路:
    使用awk转置文件内容。
    
    Returns:
        Bash脚本字符串
        
    Example:
        >>> script = transpose_file()
        >>> # 执行bash脚本
    """
    script = """
    awk '{
        for (i=1; i<=NF; i++) {
            if (NR == 1) {
                arr[i] = $i
            } else {
                arr[i] = arr[i] " " $i
            }
        }
    } END {
        for (i=1; i<=NF; i++) {
            print arr[i]
        }
    }' file.txt
    """
    return script.strip()


# 自动生成Solution类（无需手动编写）
Solution = create_solution(transpose_file)
