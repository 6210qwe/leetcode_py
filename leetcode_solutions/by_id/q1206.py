# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1206
标题: Corporate Flight Bookings
难度: medium
链接: https://leetcode.cn/problems/corporate-flight-bookings/
题目类型: 数组、前缀和
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1109. 航班预订统计 - 这里有 n 个航班，它们分别从 1 到 n 进行编号。 有一份航班预订表 bookings ，表中第 i 条预订记录 bookings[i] = [firsti, lasti, seatsi] 意味着在从 firsti 到 lasti （包含 firsti 和 lasti ）的 每个航班 上预订了 seatsi 个座位。 请你返回一个长度为 n 的数组 answer，里面的元素是每个航班预定的座位总数。 示例 1： 输入：bookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5 输出：[10,55,45,25,25] 解释： 航班编号 1 2 3 4 5 预订记录 1 ： 10 10 预订记录 2 ： 20 20 预订记录 3 ： 25 25 25 25 总座位数： 10 55 45 25 25 因此，answer = [10,55,45,25,25] 示例 2： 输入：bookings = [[1,2,10],[2,2,15]], n = 2 输出：[10,25] 解释： 航班编号 1 2 预订记录 1 ： 10 10 预订记录 2 ： 15 总座位数： 10 25 因此，answer = [10,25] 提示： * 1 <= n <= 2 * 104 * 1 <= bookings.length <= 2 * 104 * bookings[i].length == 3 * 1 <= firsti <= lasti <= n * 1 <= seatsi <= 104
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用差分数组来高效地处理区间更新。

算法步骤:
1. 初始化一个长度为 n+1 的差分数组 diff。
2. 对于每个预订记录 [firsti, lasti, seatsi]，在 diff[firsti-1] 增加 seatsi，在 diff[lasti] 减少 seatsi。
3. 通过累加 diff 数组得到最终的预订座位数数组。

关键点:
- 差分数组可以高效地处理区间更新，时间复杂度为 O(1)。
- 通过累加差分数组，可以在 O(n) 时间内得到最终结果。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + m)，其中 n 是航班数量，m 是预订记录的数量。
空间复杂度: O(n)，需要一个长度为 n+1 的差分数组。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List

def solution_function_name(bookings: List[List[int]], n: int) -> List[int]:
    """
    函数式接口 - 使用差分数组来高效地处理区间更新。
    """
    # 初始化差分数组
    diff = [0] * (n + 1)
    
    # 处理每个预订记录
    for first, last, seats in bookings:
        diff[first - 1] += seats
        if last < n:
            diff[last] -= seats
    
    # 通过累加差分数组得到最终的预订座位数数组
    result = [0] * n
    current_sum = 0
    for i in range(n):
        current_sum += diff[i]
        result[i] = current_sum
    
    return result

Solution = create_solution(solution_function_name)