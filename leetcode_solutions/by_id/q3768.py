# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 3768
标题: Check If Digits Are Equal in String After Operations I
难度: easy
链接: https://leetcode.cn/problems/check-if-digits-are-equal-in-string-after-operations-i/
题目类型: 数学、字符串、组合数学、数论、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
3461. 判断操作后字符串中的数字是否相等 I - 给你一个由数字组成的字符串 s 。重复执行以下操作，直到字符串恰好包含 两个 数字： * 从第一个数字开始，对于 s 中的每一对连续数字，计算这两个数字的和 模 10。 * 用计算得到的新数字依次替换 s 的每一个字符，并保持原本的顺序。 如果 s 最后剩下的两个数字 相同 ，返回 true 。否则，返回 false。 示例 1： 输入： s = "3902" 输出： true 解释： * 一开始，s = "3902" * 第一次操作： * (s[0] + s[1]) % 10 = (3 + 9) % 10 = 2 * (s[1] + s[2]) % 10 = (9 + 0) % 10 = 9 * (s[2] + s[3]) % 10 = (0 + 2) % 10 = 2 * s 变为 "292" * 第二次操作： * (s[0] + s[1]) % 10 = (2 + 9) % 10 = 1 * (s[1] + s[2]) % 10 = (9 + 2) % 10 = 1 * s 变为 "11" * 由于 "11" 中的数字相同，输出为 true。 示例 2： 输入： s = "34789" 输出： false 解释： * 一开始，s = "34789"。 * 第一次操作后，s = "7157"。 * 第二次操作后，s = "862"。 * 第三次操作后，s = "48"。 * 由于 '4' != '8'，输出为 false。 提示： * 3 <= s.length <= 100 * s 仅由数字组成。
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过不断对字符串进行操作，最终将字符串减少到两个字符，并检查这两个字符是否相等。

算法步骤:
1. 将字符串转换为整数列表。
2. 不断对整数列表进行操作，直到列表长度为2。
3. 检查最后两个字符是否相等。

关键点:
- 使用模10操作来处理两位数的和。
- 通过迭代逐步减少字符串长度。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 s 的长度。每次操作都会将字符串长度减半，总共需要 O(log n) 次操作，每次操作的时间复杂度是 O(n)。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def solution_function_name(s: str) -> bool:
    """
    函数式接口 - 判断操作后字符串中的数字是否相等 I
    """
    # 将字符串转换为整数列表
    nums = [int(c) for c in s]
    
    # 不断对整数列表进行操作，直到列表长度为2
    while len(nums) > 2:
        new_nums = []
        for i in range(len(nums) - 1):
            new_nums.append((nums[i] + nums[i + 1]) % 10)
        nums = new_nums
    
    # 检查最后两个字符是否相等
    return nums[0] == nums[1]


Solution = create_solution(solution_function_name)