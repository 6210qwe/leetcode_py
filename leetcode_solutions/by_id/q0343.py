# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 343
标题: Integer Break
难度: medium
链接: https://leetcode.cn/problems/integer-break/
题目类型: 数学、动态规划
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
343. 整数拆分 - 给定一个正整数 n ，将其拆分为 k 个 正整数 的和（ k >= 2 ），并使这些整数的乘积最大化。 返回 你可以获得的最大乘积 。 示例 1: 输入: n = 2 输出: 1 解释: 2 = 1 + 1, 1 × 1 = 1。 示例 2: 输入: n = 10 输出: 36 解释: 10 = 3 + 3 + 4, 3 × 3 × 4 = 36。 提示: * 2 <= n <= 58
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: DP或数学，尽可能拆分成3

算法步骤:
1. DP：dp[i] = max(j * (i-j), j * dp[i-j])
2. 数学：尽可能拆分成3，余数处理

关键点:
- DP或数学
- 时间复杂度O(n)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - DP遍历
空间复杂度: O(n) - DP数组
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def integer_break(n: int) -> int:
    """
    函数式接口 - 整数拆分
    
    实现思路:
    DP：dp[i] = max(j * (i-j), j * dp[i-j])。
    
    Args:
        n: 正整数
        
    Returns:
        最大乘积
        
    Example:
        >>> integer_break(10)
        36
    """
    dp = [0] * (n + 1)
    dp[1] = 1
    
    for i in range(2, n + 1):
        for j in range(1, i):
            dp[i] = max(dp[i], j * (i - j), j * dp[i - j])
    
    return dp[n]


# 自动生成Solution类（无需手动编写）
Solution = create_solution(integer_break)
