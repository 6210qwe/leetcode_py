# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 167
标题: Two Sum II - Input Array Is Sorted
难度: medium
链接: https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/
题目类型: 数组、双指针、二分查找
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
167. 两数之和 II - 输入有序数组 - 给你一个下标从 1 开始的整数数组 numbers ，该数组已按 非递减顺序排列 ，请你从数组中找出满足相加之和等于目标数 target 的两个数。如果设这两个数分别是 numbers[index1] 和 numbers[index2] ，则 1 <= index1 < index2 <= numbers.length 。 以长度为 2 的整数数组 [index1, index2] 的形式返回这两个整数的下标 index1 和 index2。 你可以假设每个输入 只对应唯一的答案 ，而且你 不可以 重复使用相同的元素。 你所设计的解决方案必须只使用常量级的额外空间。 示例 1： 输入：numbers = [2,7,11,15], target = 9 输出：[1,2] 解释：2 与 7 之和等于目标数 9 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。 示例 2： 输入：numbers = [2,3,4], target = 6 输出：[1,3] 解释：2 与 4 之和等于目标数 6 。因此 index1 = 1, index2 = 3 。返回 [1, 3] 。 示例 3： 输入：numbers = [-1,0], target = -1 输出：[1,2] 解释：-1 与 0 之和等于目标数 -1 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。 提示： * 2 <= numbers.length <= 3 * 104 * -1000 <= numbers[i] <= 1000 * numbers 按 非递减顺序 排列 * -1000 <= target <= 1000 * 仅存在一个有效答案
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双指针，利用数组有序的性质

算法步骤:
1. 使用左右两个指针，分别指向数组首尾
2. 计算两数之和：
   - 如果和等于target，返回索引（从1开始）
   - 如果和小于target，左指针右移
   - 如果和大于target，右指针左移

关键点:
- 利用数组有序性质，双指针向中间移动
- 时间复杂度O(n)，空间复杂度O(1)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 最多遍历一次数组
空间复杂度: O(1) - 只使用常数额外空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from leetcode_solutions.utils.solution import create_solution


def two_sum_ii_input_array_is_sorted(numbers: List[int], target: int) -> List[int]:
    """
    函数式接口 - 两数之和 II（输入有序数组）
    
    实现思路:
    使用双指针，利用数组有序的性质。
    
    Args:
        numbers: 有序整数数组
        target: 目标值
        
    Returns:
        两个数的索引（从1开始）
        
    Example:
        >>> two_sum_ii_input_array_is_sorted([2, 7, 11, 15], 9)
        [1, 2]
    """
    left, right = 0, len(numbers) - 1
    
    while left < right:
        current_sum = numbers[left] + numbers[right]
        
        if current_sum == target:
            return [left + 1, right + 1]
        elif current_sum < target:
            left += 1
        else:
            right -= 1
    
    return []


# 自动生成Solution类（无需手动编写）
Solution = create_solution(two_sum_ii_input_array_is_sorted)
