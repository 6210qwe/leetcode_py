# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1363
标题: Greatest English Letter in Upper and Lower Case
难度: easy
链接: https://leetcode.cn/problems/greatest-english-letter-in-upper-and-lower-case/
题目类型: 哈希表、字符串、枚举
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2309. 兼具大小写的最好英文字母 - 给你一个由英文字母组成的字符串 s ，请你找出并返回 s 中的 最好 英文字母。返回的字母必须为大写形式。如果不存在满足条件的字母，则返回一个空字符串。 最好 英文字母的大写和小写形式必须 都 在 s 中出现。 英文字母 b 比另一个英文字母 a 更好 的前提是：英文字母表中，b 在 a 之 后 出现。 示例 1： 输入：s = "lEeTcOdE" 输出："E" 解释： 字母 'E' 是唯一一个大写和小写形式都出现的字母。 示例 2： 输入：s = "arRAzFif" 输出："R" 解释： 字母 'R' 是大写和小写形式都出现的最好英文字母。 注意 'A' 和 'F' 的大写和小写形式也都出现了，但是 'R' 比 'F' 和 'A' 更好。 示例 3： 输入：s = "AbCdEfGhIjK" 输出："" 解释： 不存在大写和小写形式都出现的字母。 提示： * 1 <= s.length <= 1000 * s 由小写和大写英文字母组成
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用两个集合分别存储大写字母和小写字母，然后从后向前遍历大写字母，找到第一个同时在两个集合中出现的字母。

算法步骤:
1. 初始化两个集合，分别存储大写字母和小写字母。
2. 遍历字符串，将每个字符添加到对应的集合中。
3. 从 'Z' 到 'A' 依次检查每个大写字母是否在两个集合中都存在。
4. 如果找到一个符合条件的大写字母，返回该字母。
5. 如果没有找到符合条件的字母，返回空字符串。

关键点:
- 使用集合来快速查找字母是否存在。
- 从后向前遍历大写字母以确保找到的是最好的字母。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是字符串 s 的长度。我们只需要遍历字符串一次，并且检查集合中的元素是 O(1) 的操作。
空间复杂度: O(1)，因为集合中最多只会有 26 个字母。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def greatest_letter(s: str) -> str:
    """
    函数式接口 - 找出字符串 s 中兼具大小写的最好英文字母
    """
    # 初始化两个集合，分别存储大写字母和小写字母
    upper_set = set()
    lower_set = set()

    # 遍历字符串，将每个字符添加到对应的集合中
    for char in s:
        if char.isupper():
            upper_set.add(char)
        else:
            lower_set.add(char)

    # 从 'Z' 到 'A' 依次检查每个大写字母是否在两个集合中都存在
    for char in reversed(range(ord('A'), ord('Z') + 1)):
        if chr(char) in upper_set and chr(char).lower() in lower_set:
            return chr(char)

    # 如果没有找到符合条件的字母，返回空字符串
    return ""


Solution = create_solution(greatest_letter)