# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 165
标题: Compare Version Numbers
难度: medium
链接: https://leetcode.cn/problems/compare-version-numbers/
题目类型: 双指针、字符串
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
165. 比较版本号 - 给你两个 版本号字符串 version1 和 version2 ，请你比较它们。版本号由被点 '.' 分开的修订号组成。修订号的值 是它 转换为整数 并忽略前导零。 比较版本号时，请按 从左到右的顺序 依次比较它们的修订号。如果其中一个版本字符串的修订号较少，则将缺失的修订号视为 0。 返回规则如下： * 如果 version1 < version2 返回 -1， * 如果 version1 > version2 返回 1， * 除此之外返回 0。 示例 1： 输入：version1 = "1.2", version2 = "1.10" 输出：-1 解释： version1 的第二个修订号为 "2"，version2 的第二个修订号为 "10"：2 < 10，所以 version1 < version2。 示例 2： 输入：version1 = "1.01", version2 = "1.001" 输出：0 解释： 忽略前导零，"01" 和 "001" 都代表相同的整数 "1"。 示例 3： 输入：version1 = "1.0", version2 = "1.0.0.0" 输出：0 解释： version1 有更少的修订号，每个缺失的修订号按 "0" 处理。 提示： * 1 <= version1.length, version2.length <= 500 * version1 和 version2 仅包含数字和 '.' * version1 和 version2 都是 有效版本号 * version1 和 version2 的所有修订号都可以存储在 32 位整数 中
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 分割版本号字符串，逐个比较修订号

算法步骤:
1. 将版本号字符串按'.'分割成修订号列表
2. 逐个比较对应位置的修订号（转换为整数）
3. 如果某个版本号的修订号用完了，视为0
4. 根据比较结果返回-1、0或1

关键点:
- 忽略前导零，将字符串转换为整数比较
- 时间复杂度O(n+m)，空间复杂度O(n+m)
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n+m) - n和m分别是两个版本号字符串的长度
空间复杂度: O(n+m) - 存储分割后的修订号列表
"""

# ============================================================================
# 代码实现
# ============================================================================

from leetcode_solutions.utils.solution import create_solution


def compare_version_numbers(version1: str, version2: str) -> int:
    """
    函数式接口 - 比较版本号
    
    实现思路:
    分割版本号字符串，逐个比较修订号。
    
    Args:
        version1: 第一个版本号字符串
        version2: 第二个版本号字符串
        
    Returns:
        如果version1 < version2返回-1，如果version1 > version2返回1，否则返回0
        
    Example:
        >>> compare_version_numbers("1.2", "1.10")
        -1
    """
    v1_parts = version1.split('.')
    v2_parts = version2.split('.')
    
    max_len = max(len(v1_parts), len(v2_parts))
    
    for i in range(max_len):
        v1_num = int(v1_parts[i]) if i < len(v1_parts) else 0
        v2_num = int(v2_parts[i]) if i < len(v2_parts) else 0
        
        if v1_num < v2_num:
            return -1
        elif v1_num > v2_num:
            return 1
    
    return 0


# 自动生成Solution类（无需手动编写）
Solution = create_solution(compare_version_numbers)
