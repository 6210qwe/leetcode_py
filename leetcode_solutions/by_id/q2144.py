# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2144
标题: Maximum Difference Between Increasing Elements
难度: easy
链接: https://leetcode.cn/problems/maximum-difference-between-increasing-elements/
题目类型: 数组
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2016. 增量元素之间的最大差值 - 给你一个下标从 0 开始的整数数组 nums ，该数组的大小为 n ，请你计算 nums[j] - nums[i] 能求得的 最大差值 ，其中 0 <= i < j < n 且 nums[i] < nums[j] 。 返回 最大差值 。如果不存在满足要求的 i 和 j ，返回 -1 。 示例 1： 输入：nums = [7,1,5,4] 输出：4 解释： 最大差值出现在 i = 1 且 j = 2 时，nums[j] - nums[i] = 5 - 1 = 4 。 注意，尽管 i = 1 且 j = 0 时 ，nums[j] - nums[i] = 7 - 1 = 6 > 4 ，但 i > j 不满足题面要求，所以 6 不是有效的答案。 示例 2： 输入：nums = [9,4,3,2] 输出：-1 解释： 不存在同时满足 i < j 和 nums[i] < nums[j] 这两个条件的 i, j 组合。 示例 3： 输入：nums = [1,5,2,10] 输出：9 解释： 最大差值出现在 i = 0 且 j = 3 时，nums[j] - nums[i] = 10 - 1 = 9 。 提示： * n == nums.length * 2 <= n <= 1000 * 1 <= nums[i] <= 109
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 通过一次遍历数组来找到最大差值。我们需要维护一个当前最小值，并在遍历时更新最大差值。

算法步骤:
1. 初始化最小值为数组的第一个元素，最大差值为 -1。
2. 遍历数组，从第二个元素开始：
   - 如果当前元素小于最小值，更新最小值。
   - 否则，计算当前元素与最小值的差值，并更新最大差值。
3. 返回最大差值。

关键点:
- 通过一次遍历即可找到最大差值，时间复杂度为 O(n)。
- 只需要常数空间来存储最小值和最大差值，空间复杂度为 O(1)。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def maximum_difference(nums: List[int]) -> int:
    """
    函数式接口 - 计算增量元素之间的最大差值
    """
    if not nums or len(nums) < 2:
        return -1

    min_val = nums[0]
    max_diff = -1

    for num in nums[1:]:
        if num < min_val:
            min_val = num
        else:
            max_diff = max(max_diff, num - min_val)

    return max_diff


Solution = create_solution(maximum_difference)