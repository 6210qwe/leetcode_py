# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1911
标题: Minimum Elements to Add to Form a Given Sum
难度: medium
链接: https://leetcode.cn/problems/minimum-elements-to-add-to-form-a-given-sum/
题目类型: 贪心、数组
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1785. 构成特定和需要添加的最少元素 - 给你一个整数数组 nums ，和两个整数 limit 与 goal 。数组 nums 有一条重要属性：abs(nums[i]) <= limit 。 返回使数组元素总和等于 goal 所需要向数组中添加的 最少元素数量 ，添加元素 不应改变 数组中 abs(nums[i]) <= limit 这一属性。 注意，如果 x >= 0 ，那么 abs(x) 等于 x ；否则，等于 -x 。 示例 1： 输入：nums = [1,-1,1], limit = 3, goal = -4 输出：2 解释：可以将 -2 和 -3 添加到数组中，数组的元素总和变为 1 - 1 + 1 - 2 - 3 = -4 。 示例 2： 输入：nums = [1,-10,9,1], limit = 100, goal = 0 输出：1 提示： * 1 <= nums.length <= 105 * 1 <= limit <= 106 * -limit <= nums[i] <= limit * -109 <= goal <= 109
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 计算当前数组总和与目标值之间的差值，然后计算需要添加的最少元素数量。

算法步骤:
1. 计算当前数组的总和。
2. 计算当前数组总和与目标值之间的差值。
3. 计算需要添加的最少元素数量，即差值除以 limit 的向上取整。

关键点:
- 使用向上取整来确保添加的元素数量是最小的。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n)，其中 n 是 nums 的长度，因为我们需要遍历整个数组来计算总和。
空间复杂度: O(1)，我们只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
import math

def min_elements_to_add(nums: List[int], limit: int, goal: int) -> int:
    """
    函数式接口 - 计算使数组元素总和等于 goal 所需要向数组中添加的最少元素数量。
    """
    # 计算当前数组的总和
    current_sum = sum(nums)
    
    # 计算当前数组总和与目标值之间的差值
    difference = abs(goal - current_sum)
    
    # 计算需要添加的最少元素数量
    min_elements = math.ceil(difference / limit)
    
    return min_elements

Solution = create_solution(min_elements_to_add)