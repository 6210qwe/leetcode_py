# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1482
标题: How Many Numbers Are Smaller Than the Current Number
难度: easy
链接: https://leetcode.cn/problems/how-many-numbers-are-smaller-than-the-current-number/
题目类型: 数组、哈希表、计数排序、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1365. 有多少小于当前数字的数字 - 给你一个数组 nums，对于其中每个元素 nums[i]，请你统计数组中比它小的所有数字的数目。 换而言之，对于每个 nums[i] 你必须计算出有效的 j 的数量，其中 j 满足 j != i 且 nums[j] < nums[i] 。 以数组形式返回答案。 示例 1： 输入：nums = [8,1,2,2,3] 输出：[4,0,1,1,3] 解释： 对于 nums[0]=8 存在四个比它小的数字：（1，2，2 和 3）。 对于 nums[1]=1 不存在比它小的数字。 对于 nums[2]=2 存在一个比它小的数字：（1）。 对于 nums[3]=2 存在一个比它小的数字：（1）。 对于 nums[4]=3 存在三个比它小的数字：（1，2 和 2）。 示例 2： 输入：nums = [6,5,4,8] 输出：[2,1,0,3] 示例 3： 输入：nums = [7,7,7,7] 输出：[0,0,0,0] 提示： * 2 <= nums.length <= 500 * 0 <= nums[i] <= 100
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用计数排序的思想来解决这个问题。

算法步骤:
1. 创建一个长度为 101 的计数数组 `count`，用于记录每个数字出现的次数。
2. 遍历输入数组 `nums`，填充计数数组 `count`。
3. 计算计数数组的前缀和，这样 `count[i]` 就表示小于等于 `i` 的数字个数。
4. 再次遍历输入数组 `nums`，通过 `count[nums[i] - 1]` 得到小于 `nums[i]` 的数字个数。

关键点:
- 使用计数数组可以高效地统计每个数字出现的次数，并通过前缀和快速得到小于某个数字的个数。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n + k)，其中 n 是输入数组 `nums` 的长度，k 是计数数组的长度（固定为 101）。
空间复杂度: O(k)，其中 k 是计数数组的长度（固定为 101）。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def smallerNumbersThanCurrent(nums: List[int]) -> List[int]:
    """
    函数式接口 - 返回一个数组，其中每个元素表示输入数组中比当前元素小的元素个数。
    """
    # 创建计数数组
    count = [0] * 101
    
    # 填充计数数组
    for num in nums:
        count[num] += 1
    
    # 计算前缀和
    for i in range(1, 101):
        count[i] += count[i - 1]
    
    # 计算结果
    result = [count[num - 1] if num > 0 else 0 for num in nums]
    
    return result


Solution = create_solution(smallerNumbersThanCurrent)