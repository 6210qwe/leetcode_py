# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 357
标题: Count Numbers with Unique Digits
难度: medium
链接: https://leetcode.cn/problems/count-numbers-with-unique-digits/
题目类型: 数学、动态规划、回溯
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
357. 统计各位数字都不同的数字个数 - 给你一个整数 n ，统计并返回各位数字都不同的数字 x 的个数，其中 0 <= x < 10n 。 示例 1： 输入：n = 2 输出：91 解释：答案应为除去 11、22、33、44、55、66、77、88、99 外，在 0 ≤ x < 100 范围内的所有数字。 示例 2： 输入：n = 0 输出：1 提示： * 0 <= n <= 8
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 数学排列组合

算法步骤:
1. n=0时，返回1（只有0）
2. n=1时，有10个数字（0-9）
3. n>1时，第一位有9种选择（不能是0），后续每位递减
4. 累加各长度的结果

关键点:
- 第一位不能是0，所以有9种选择
- 后续每位可用数字递减
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n) - 遍历n次
空间复杂度: O(1) - 只使用常数空间
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def count_numbers_with_unique_digits(n: int) -> int:
    """
    函数式接口 - 统计各位数字都不同的数字个数
    
    实现思路:
    使用排列组合，第一位9种选择，后续每位递减。
    
    Args:
        n: 数字位数
        
    Returns:
        各位数字都不同的数字个数
        
    Example:
        >>> count_numbers_with_unique_digits(2)
        91
    """
    if n == 0:
        return 1
    
    result = 10  # n=1时有10个数字
    available = 9  # 第一位可用数字数
    
    for i in range(2, n + 1):
        available *= (10 - i + 1)  # 第i位可用数字数
        result += available
    
    return result


# 自动生成Solution类（无需手动编写）
Solution = create_solution(count_numbers_with_unique_digits)
