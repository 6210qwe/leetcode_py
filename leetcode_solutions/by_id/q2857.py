# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2857
标题: Total Distance Traveled
难度: easy
链接: https://leetcode.cn/problems/total-distance-traveled/
题目类型: 数学、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2739. 总行驶距离 - 卡车有两个油箱。给你两个整数，mainTank 表示主油箱中的燃料（以升为单位），additionalTank 表示副油箱中的燃料（以升为单位）。 该卡车每耗费 1 升燃料都可以行驶 10 km。每当主油箱使用了 5 升燃料时，如果副油箱至少有 1 升燃料，则会将 1 升燃料从副油箱转移到主油箱。 返回卡车可以行驶的最大距离。 注意：从副油箱向主油箱注入燃料不是连续行为。这一事件会在每消耗 5 升燃料时突然且立即发生。 示例 1： 输入：mainTank = 5, additionalTank = 10 输出：60 解释： 在用掉 5 升燃料后，主油箱中燃料还剩下 (5 - 5 + 1) = 1 升，行驶距离为 50km 。 在用掉剩下的 1 升燃料后，没有新的燃料注入到主油箱中，主油箱变为空。 总行驶距离为 60km 。 示例 2： 输入：mainTank = 1, additionalTank = 2 输出：10 解释： 在用掉 1 升燃料后，主油箱变为空。 总行驶距离为 10km 。 提示： * 1 <= mainTank, additionalTank <= 100
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 模拟主油箱和副油箱的燃料消耗过程，每次主油箱消耗 5 升燃料时，检查副油箱是否有燃料可以转移。

算法步骤:
1. 初始化总行驶距离 `distance` 为 0。
2. 当主油箱还有燃料时，进行以下操作：
   - 每次从主油箱消耗 1 升燃料，增加 10 公里的行驶距离。
   - 如果主油箱已经消耗了 5 升燃料，并且副油箱还有燃料，将 1 升燃料从副油箱转移到主油箱。
3. 返回总行驶距离 `distance`。

关键点:
- 每次主油箱消耗 5 升燃料时，检查副油箱是否有燃料可以转移。
- 主油箱和副油箱的燃料总量决定了总行驶距离。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(mainTank)
空间复杂度: O(1)
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def total_distance_traveled(main_tank: int, additional_tank: int) -> int:
    """
    函数式接口 - 计算卡车可以行驶的最大距离
    """
    distance = 0
    consumed = 0  # 主油箱已消耗的燃料量

    while main_tank > 0:
        main_tank -= 1
        distance += 10
        consumed += 1

        if consumed == 5 and additional_tank > 0:
            main_tank += 1
            additional_tank -= 1
            consumed = 0  # 重置消耗计数

    return distance


Solution = create_solution(total_distance_traveled)