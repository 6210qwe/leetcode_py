# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 1372
标题: Check If It Is a Good Array
难度: hard
链接: https://leetcode.cn/problems/check-if-it-is-a-good-array/
题目类型: 数组、数学、数论
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
1250. 检查「好数组」 - 给你一个正整数数组 nums，你需要从中任选一些子集，然后将子集中每一个数乘以一个 任意整数，并求出他们的和。 假如该和结果为 1，那么原数组就是一个「好数组」，则返回 True；否则请返回 False。 示例 1： 输入：nums = [12,5,7,23] 输出：true 解释：挑选数字 5 和 7。 5*3 + 7*(-2) = 1 示例 2： 输入：nums = [29,6,10] 输出：true 解释：挑选数字 29, 6 和 10。 29*1 + 6*(-3) + 10*(-1) = 1 示例 3： 输入：nums = [3,6] 输出：false 提示： * 1 <= nums.length <= 10^5 * 1 <= nums[i] <= 10^9
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用最大公约数 (GCD) 来判断是否存在一个子集的线性组合可以得到 1。

算法步骤:
1. 计算整个数组的最大公约数。
2. 如果最大公约数为 1，则存在一个子集的线性组合可以得到 1，返回 True。
3. 否则，返回 False。

关键点:
- 利用 GCD 的性质来简化问题。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log(max(nums)))，其中 n 是数组长度，max(nums) 是数组中的最大值。
空间复杂度: O(1)，只使用了常数级的额外空间。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List
from math import gcd
from functools import reduce

def is_good_array(nums: List[int]) -> bool:
    """
    函数式接口 - 判断数组是否为「好数组」
    """
    # 计算整个数组的最大公约数
    return reduce(gcd, nums) == 1

Solution = create_solution(is_good_array)