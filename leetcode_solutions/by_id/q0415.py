# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 415
标题: Add Strings
难度: easy
链接: https://leetcode.cn/problems/add-strings/
题目类型: 数学、字符串、模拟
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
415. 字符串相加 - 给定两个字符串形式的非负整数 num1 和num2 ，计算它们的和并同样以字符串形式返回。 你不能使用任何內建的用于处理大整数的库（比如 BigInteger）， 也不能直接将输入的字符串转换为整数形式。 示例 1： 输入：num1 = "11", num2 = "123" 输出："134" 示例 2： 输入：num1 = "456", num2 = "77" 输出："533" 示例 3： 输入：num1 = "0", num2 = "0" 输出："0" 提示： * 1 <= num1.length, num2.length <= 104 * num1 和num2 都只包含数字 0-9 * num1 和num2 都不包含任何前导零
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 模拟手工加法，从最低位（字符串末尾）开始逐位相加，维护进位。

算法步骤:
1. 使用双指针分别从两个字符串末尾开始遍历
2. 每次取当前位数字（若已越界则视为0），加上进位，得到当前位和
3. 当前位结果为 sum % 10，进位为 sum // 10
4. 将当前位结果添加到结果列表中（注意是低位在前）
5. 处理完所有位后，若仍有进位，则追加进位
6. 将结果列表反转并拼接为字符串

关键点:
- 注意边界条件：当某字符串已遍历完时，对应位数字视为0
- 最终结果可能比原字符串长一位（如 "9"+"1"="10"）
- 使用列表 append + reverse 比字符串拼接更高效（避免重复创建字符串对象）
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(max(m, n)) - 其中 m 和 n 分别是 num1 和 num2 的长度，需遍历较长字符串的所有位
空间复杂度: O(max(m, n)) - 存储结果字符串所需空间（不考虑输出空间则为 O(1) 辅助空间）
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def add_strings(params):
    """
    函数式接口 - 字符串相加
    
    实现思路:
    模拟竖式加法：从右向左逐位相加，维护进位，用列表收集结果后反转。
    
    Args:
        params: list[str], 包含两个字符串 num1 和 num2
        
    Returns:
        str: 两字符串相加的结果字符串
        
    Example:
        >>> add_strings(["11", "123"])
        '134'
        >>> add_strings(["456", "77"])
        '533'
        >>> add_strings(["0", "0"])
        '0'
    """
    if not params or len(params) < 2:
        raise ValueError("params must contain exactly two strings")
    
    num1, num2 = params[0], params[1]
    
    i, j = len(num1) - 1, len(num2) - 1
    carry = 0
    result = []
    
    # 从末尾开始逐位相加
    while i >= 0 or j >= 0 or carry:
        digit1 = int(num1[i]) if i >= 0 else 0
        digit2 = int(num2[j]) if j >= 0 else 0
        total = digit1 + digit2 + carry
        carry = total // 10
        result.append(str(total % 10))
        i -= 1
        j -= 1
    
    # 结果是逆序的，需要反转
    return ''.join(reversed(result))


# 自动生成Solution类（无需手动编写）
Solution = create_solution(add_strings)