# -*- coding:utf-8 -*-
# ============================================================================
# 题目信息
# ============================================================================
"""
题号: 2561
标题: Number of Distinct Averages
难度: easy
链接: https://leetcode.cn/problems/number-of-distinct-averages/
题目类型: 数组、哈希表、双指针、排序
"""

# ============================================================================
# 问题描述
# ============================================================================
"""
2465. 不同的平均值数目 - 给你一个下标从 0 开始长度为 偶数 的整数数组 nums 。 只要 nums 不是 空数组，你就重复执行以下步骤： * 找到 nums 中的最小值，并删除它。 * 找到 nums 中的最大值，并删除它。 * 计算删除两数的平均值。 两数 a 和 b 的 平均值 为 (a + b) / 2 。 * 比方说，2 和 3 的平均值是 (2 + 3) / 2 = 2.5 。 返回上述过程能得到的 不同 平均值的数目。 注意 ，如果最小值或者最大值有重复元素，可以删除任意一个。 示例 1： 输入：nums = [4,1,4,0,3,5] 输出：2 解释： 1. 删除 0 和 5 ，平均值是 (0 + 5) / 2 = 2.5 ，现在 nums = [4,1,4,3] 。 2. 删除 1 和 4 ，平均值是 (1 + 4) / 2 = 2.5 ，现在 nums = [4,3] 。 3. 删除 3 和 4 ，平均值是 (3 + 4) / 2 = 3.5 。 2.5 ，2.5 和 3.5 之中总共有 2 个不同的数，我们返回 2 。 示例 2： 输入：nums = [1,100] 输出：1 解释： 删除 1 和 100 后只有一个平均值，所以我们返回 1 。 提示： * 2 <= nums.length <= 100 * nums.length 是偶数。 * 0 <= nums[i] <= 100
"""

# ============================================================================
# 实现思路
# ============================================================================
"""
核心思想: 使用双指针和集合来记录不同的平均值。

算法步骤:
1. 对数组进行排序。
2. 使用双指针，一个指向数组的开头，一个指向数组的末尾。
3. 计算每对最小值和最大值的平均值，并将其加入集合中。
4. 移动指针，直到遍历完整个数组。
5. 返回集合的大小，即不同平均值的数量。

关键点:
- 排序后使用双指针可以高效地找到每对最小值和最大值。
- 使用集合来存储不同的平均值，避免重复。
"""

# ============================================================================
# 复杂度分析
# ============================================================================
"""
时间复杂度: O(n log n)，其中 n 是数组的长度。排序操作的时间复杂度是 O(n log n)，而后续的遍历操作是 O(n)。
空间复杂度: O(n)，用于存储不同的平均值集合。
"""

# ============================================================================
# 代码实现
# ============================================================================

from typing import List, Optional
from leetcode_solutions.utils.linked_list import ListNode
from leetcode_solutions.utils.tree import TreeNode
from leetcode_solutions.utils.solution import create_solution


def distinct_averages(nums: List[int]) -> int:
    """
    函数式接口 - 计算不同的平均值数目
    """
    # 对数组进行排序
    nums.sort()
    
    # 使用集合来存储不同的平均值
    averages = set()
    
    # 使用双指针
    left, right = 0, len(nums) - 1
    while left < right:
        # 计算每对最小值和最大值的平均值
        average = (nums[left] + nums[right]) / 2
        averages.add(average)
        
        # 移动指针
        left += 1
        right -= 1
    
    # 返回不同平均值的数量
    return len(averages)


Solution = create_solution(distinct_averages)